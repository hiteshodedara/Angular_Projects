/*
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */
export class NbDateService {
    constructor() {
        this.DAYS_IN_WEEK = 7;
        /**
         * Number of hours in AM/PM day periods.
         **/
        this.HOURS_IN_DAY_PERIOD = 12;
    }
    setLocale(locale) {
        this.locale = locale;
    }
    /**
     * Checks if the date is between the start date and the end date.
     * */
    isBetween(date, start, end) {
        return this.compareDates(date, start) > 0 && this.compareDates(date, end) < 0;
    }
    ;
    /**
     * Checks is two dates have the same day.
     * */
    isSameDaySafe(date1, date2) {
        return date1 && date2 && this.isSameDay(date1, date2);
    }
    ;
    /**
     * Checks is two dates have the same month.
     * */
    isSameMonthSafe(date1, date2) {
        return date1 && date2 && this.isSameMonth(date1, date2);
    }
    /**
     * Checks is two dates have the same year.
     * */
    isSameYearSafe(date1, date2) {
        return date1 && date2 && this.isSameYear(date1, date2);
    }
    isSameHourAndMinute(date1, date2) {
        return this.isSameHour(date1, date2) && this.isSameMinute(date1, date2);
    }
    isSameHour(date1, date2) {
        return this.getHours(date1) === this.getHours(date2);
    }
    isSameMinute(date1, date2) {
        return this.getMinutes(date1) === this.getMinutes(date2);
    }
    getTwentyFourHoursFormat() {
        return 'HH:mm';
    }
    getTwentyFourHoursFormatWithSeconds() {
        return 'HH:mm:ss';
    }
    getTwelveHoursFormatWithSeconds() {
        return 'hh:mm:ss a';
    }
    getDayPeriod(date) {
        const isFirstDayPeriod = this.getHours(date) < this.HOURS_IN_DAY_PERIOD;
        if (isFirstDayPeriod) {
            return "AM" /* NbDayPeriod.AM */;
        }
        else {
            return "PM" /* NbDayPeriod.PM */;
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2ZyYW1ld29yay90aGVtZS9jb21wb25lbnRzL2NhbGVuZGFyLWtpdC9zZXJ2aWNlcy9kYXRlLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQVNILE1BQU0sT0FBZ0IsYUFBYTtJQUFuQztRQUNXLGlCQUFZLEdBQVcsQ0FBQyxDQUFDO1FBRWxDOztZQUVJO1FBQ0ssd0JBQW1CLEdBQUcsRUFBRSxDQUFDO0lBa1JwQyxDQUFDO0lBOVFDLFNBQVMsQ0FBQyxNQUFXO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFRDs7U0FFSztJQUNMLFNBQVMsQ0FBQyxJQUFPLEVBQUUsS0FBUSxFQUFFLEdBQU07UUFDakMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hGLENBQUM7SUFBQSxDQUFDO0lBRUY7O1NBRUs7SUFDTCxhQUFhLENBQUMsS0FBUSxFQUFFLEtBQVE7UUFDOUIsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFBQSxDQUFDO0lBRUY7O1NBRUs7SUFDTCxlQUFlLENBQUMsS0FBUSxFQUFFLEtBQVE7UUFDaEMsT0FBTyxLQUFLLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFRDs7U0FFSztJQUNMLGNBQWMsQ0FBQyxLQUFRLEVBQUUsS0FBUTtRQUMvQixPQUFPLEtBQUssSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDekQsQ0FBQztJQWdORCxtQkFBbUIsQ0FBQyxLQUFRLEVBQUUsS0FBUTtRQUNwQyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzFFLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBUSxFQUFFLEtBQVE7UUFDM0IsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELFlBQVksQ0FBQyxLQUFRLEVBQUUsS0FBUTtRQUM3QixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRUQsd0JBQXdCO1FBQ3RCLE9BQU8sT0FBTyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxtQ0FBbUM7UUFDakMsT0FBTyxVQUFVLENBQUE7SUFDbkIsQ0FBQztJQUVELCtCQUErQjtRQUM3QixPQUFPLFlBQVksQ0FBQztJQUN0QixDQUFDO0lBRUQsWUFBWSxDQUFDLElBQU87UUFDbEIsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztRQUN4RSxJQUFJLGdCQUFnQixFQUFFO1lBQ3BCLGlDQUFzQjtTQUN2QjthQUFNO1lBQ0wsaUNBQXNCO1NBQ3ZCO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgQWt2ZW8uIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICovXG5cbmltcG9ydCB7IFRyYW5zbGF0aW9uV2lkdGggfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5leHBvcnQgY29uc3QgZW51bSBOYkRheVBlcmlvZCB7XG4gIEFNID0gJ0FNJywgLy8gYmVmb3JlIG1pZGRheSwgMCAtIDExIGluIDI0LWhvdXIgZm9ybWF0LlxuICBQTSA9ICdQTScsIC8vIGFmdGVyIG1pZGRheSwgMTIgLSAyMyBpbiAyNC1ob3VyIGZvcm1hdC5cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE5iRGF0ZVNlcnZpY2U8RD4ge1xuICByZWFkb25seSBEQVlTX0lOX1dFRUs6IG51bWJlciA9IDc7XG5cbiAgLyoqXG4gICAqIE51bWJlciBvZiBob3VycyBpbiBBTS9QTSBkYXkgcGVyaW9kcy5cbiAgICoqL1xuICByZWFkb25seSBIT1VSU19JTl9EQVlfUEVSSU9EID0gMTI7XG5cbiAgcHJvdGVjdGVkIGxvY2FsZTogc3RyaW5nO1xuXG4gIHNldExvY2FsZShsb2NhbGU6IGFueSkge1xuICAgIHRoaXMubG9jYWxlID0gbG9jYWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgZGF0ZSBpcyBiZXR3ZWVuIHRoZSBzdGFydCBkYXRlIGFuZCB0aGUgZW5kIGRhdGUuXG4gICAqICovXG4gIGlzQmV0d2VlbihkYXRlOiBELCBzdGFydDogRCwgZW5kOiBEKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGFyZURhdGVzKGRhdGUsIHN0YXJ0KSA+IDAgJiYgdGhpcy5jb21wYXJlRGF0ZXMoZGF0ZSwgZW5kKSA8IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpcyB0d28gZGF0ZXMgaGF2ZSB0aGUgc2FtZSBkYXkuXG4gICAqICovXG4gIGlzU2FtZURheVNhZmUoZGF0ZTE6IEQsIGRhdGUyOiBEKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGRhdGUxICYmIGRhdGUyICYmIHRoaXMuaXNTYW1lRGF5KGRhdGUxLCBkYXRlMik7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpcyB0d28gZGF0ZXMgaGF2ZSB0aGUgc2FtZSBtb250aC5cbiAgICogKi9cbiAgaXNTYW1lTW9udGhTYWZlKGRhdGUxOiBELCBkYXRlMjogRCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBkYXRlMSAmJiBkYXRlMiAmJiB0aGlzLmlzU2FtZU1vbnRoKGRhdGUxLCBkYXRlMik7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlzIHR3byBkYXRlcyBoYXZlIHRoZSBzYW1lIHllYXIuXG4gICAqICovXG4gIGlzU2FtZVllYXJTYWZlKGRhdGUxOiBELCBkYXRlMjogRCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBkYXRlMSAmJiBkYXRlMiAmJiB0aGlzLmlzU2FtZVllYXIoZGF0ZTEsIGRhdGUyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGRhdGUgd2l0aCBzZWxlY3RlZCBob3VyXG4gICAqICovXG4gIGFic3RyYWN0IHNldEhvdXJzKGRhdGU6IEQsIGhvdXI6IG51bWJlcik6IEQ7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZGF0ZSB3aXRoIHNlbGVjdGVkIG1pbnV0ZVxuICAgKiAqL1xuICBhYnN0cmFjdCBzZXRNaW51dGVzKGRhdGU6IEQsIG1pbnV0ZTogbnVtYmVyKTogRDtcblxuICAvKipcbiAgICogUmV0dXJucyBkYXRlIHdpdGggc2VsZWN0ZWQgc2Vjb25kXG4gICAqICovXG4gIGFic3RyYWN0IHNldFNlY29uZHMoZGF0ZTogRCwgc2Vjb25kOiBudW1iZXIpOiBEO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGRhdGUgd2l0aCBzZWxlY3RlZCBtaWxsaXNlY29uZHNcbiAgICogKi9cbiAgYWJzdHJhY3Qgc2V0TWlsbGlzZWNvbmRzKGRhdGU6IEQsIHNlY29uZDogbnVtYmVyKTogRDtcbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBkYXRlIHN0cmluZyBpcyB2YWxpZCBkYXRlIHN0cmluZyBhY2NvcmRpbmcgdG8gdGhlIHByb3ZpZGVkIGZvcm1hdC5cbiAgICogKi9cbiAgYWJzdHJhY3QgaXNWYWxpZERhdGVTdHJpbmcoZGF0ZTogc3RyaW5nLCBmb3JtYXQ6IHN0cmluZyk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aW1lIHN0cmluZyBpcyB2YWxpZCB0aW1lIHN0cmluZyBhY2NvcmRpbmcgdG8gdGhlIHByb3ZpZGVkIGZvcm1hdC5cbiAgICogKi9cbiAgYWJzdHJhY3QgaXNWYWxpZFRpbWVTdHJpbmcoZGF0ZTogc3RyaW5nLCBmb3JtYXQ6IHN0cmluZyk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdG9kYXkgZGF0ZS5cbiAgICogKi9cbiAgYWJzdHJhY3QgdG9kYXkoKTogRDtcblxuICAvKipcbiAgICogR2V0cyB0aGUgdGltZSBmb3JtYXQgYmFzZWQgb24gbG9jYWxlXG4gICAqICovXG4gIGFic3RyYWN0IGdldExvY2FsZVRpbWVGb3JtYXQoKTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBkYXRlIG9mIHRoZSBtb250aCBjb21wb25lbnQgb2YgdGhlIGdpdmVuIGRhdGUuXG4gICAqL1xuICBhYnN0cmFjdCBnZXREYXRlKGRhdGU6IEQpOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGhvdXIgY29tcG9uZW50IG9mIHRoZSBnaXZlbiBkYXRlLlxuICAgKi9cbiAgYWJzdHJhY3QgZ2V0SG91cnMoZGF0ZTogRCk6IG51bWJlcjtcblxuICAvKipcbiAgICogR2V0cyB0aGUgbWludXRlIGNvbXBvbmVudCBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAgICovXG4gIGFic3RyYWN0IGdldE1pbnV0ZXMoZGF0ZTogRCk6IG51bWJlcjtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2Vjb25kIGNvbXBvbmVudCBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAgICovXG4gIGFic3RyYWN0IGdldFNlY29uZHMoZGF0ZTogRCk6IG51bWJlcjtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2Vjb25kIGNvbXBvbmVudCBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAgICovXG4gIGFic3RyYWN0IGdldE1pbGxpc2Vjb25kcyhkYXRlOiBEKTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtb250aCBjb21wb25lbnQgb2YgdGhlIGdpdmVuIGRhdGUuXG4gICAqICovXG4gIGFic3RyYWN0IGdldE1vbnRoKGRhdGU6IEQpOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHllYXIgY29tcG9uZW50IG9mIHRoZSBnaXZlbiBkYXRlLlxuICAgKiAqL1xuICBhYnN0cmFjdCBnZXRZZWFyKGRhdGU6IEQpOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZGF5IG9mIHRoZSB3ZWVrIG9mIHRoZSBnaXZlbiBkYXRlLlxuICAgKi9cbiAgYWJzdHJhY3QgZ2V0RGF5T2ZXZWVrKGRhdGU6IEQpOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLCBpdCBjYW4gYmUgMSBpZiB3ZWVrIHN0YXJ0cyBmcm9tIG1vbmRheVxuICAgKiBhbmQgMCBpZiBmcm9tIHN1bmRheSBhbmQgc28gb24uXG4gICAqICovXG4gIGFic3RyYWN0IGdldEZpcnN0RGF5T2ZXZWVrKCk6IG51bWJlcjtcblxuICAvKipcbiAgICogUmV0dXJucyBsb2NhbGl6ZWQgbW9udGggbmFtZSBieSBkYXRlIGFuZCBzdHlsZS5cbiAgICogKi9cbiAgYWJzdHJhY3QgZ2V0TW9udGhOYW1lKGRhdGU6IEQsIHN0eWxlPzogVHJhbnNsYXRpb25XaWR0aCk6IHN0cmluZztcblxuICAvKipcbiAgICogUmV0dXJucyBsb2NhbGl6ZWQgbW9udGggbmFtZSBieSBtb250aCBpbmRleCBhbmQgc3R5bGUuXG4gICAqICovXG4gIGFic3RyYWN0IGdldE1vbnRoTmFtZUJ5SW5kZXgobW9udGg6IG51bWJlciwgc3R5bGU/OiBUcmFuc2xhdGlvbldpZHRoKTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGxvY2FsaXplZCBkYXlzIG5hbWVzLlxuICAgKiAqL1xuICBhYnN0cmFjdCBnZXREYXlPZldlZWtOYW1lcyhzdHlsZT86IFRyYW5zbGF0aW9uV2lkdGgpOiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogUGFyc2VzIHRoZSBkYXRlIHN0cmluZyBhY2NvcmRpbmcgdG8gdGhlIHBhc3NlZCBmb3JtYXQuXG4gICAqICovXG4gIGFic3RyYWN0IHBhcnNlKGRhdGU6IHN0cmluZywgZm9ybWF0OiBzdHJpbmcpOiBEO1xuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm1zIHRoZSBkYXRlIHRvIHRoZSBzdHJpbmcgYWNjb3JkaW5nIHRvIHRoZSBwYXNzZWQgZm9ybWF0LlxuICAgKiAqL1xuICBhYnN0cmFjdCBmb3JtYXQoZGF0ZTogRCwgZm9ybWF0OiBzdHJpbmcpOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgbmV3IGRhdGUgZnJvbSB5ZWFyLCBtb250aCBhbmQgZGF0ZS5cbiAgICogKi9cbiAgYWJzdHJhY3QgY3JlYXRlRGF0ZSh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIsIGRhdGU6IG51bWJlcik6IEQ7XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpcyB0d28gZGF0ZXMgaGF2ZSB0aGUgc2FtZSB5ZWFyLlxuICAgKiAqL1xuICBhYnN0cmFjdCBpc1NhbWVZZWFyKGRhdGUxOiBELCBkYXRlMjogRCk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpcyB0d28gZGF0ZXMgaGF2ZSB0aGUgc2FtZSBtb250aC5cbiAgICogKi9cbiAgYWJzdHJhY3QgaXNTYW1lTW9udGgoZGF0ZTE6IEQsIGRhdGUyOiBEKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogQ2hlY2tzIGlzIHR3byBkYXRlcyBoYXZlIHRoZSBzYW1lIGRheS5cbiAgICogKi9cbiAgYWJzdHJhY3QgaXNTYW1lRGF5KGRhdGUxOiBELCBkYXRlMjogRCk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIENvbXBhcmVzIHR3byBkYXRlcy5cbiAgICogUmV0dXJucyAwIGlmIGRhdGVzIGFyZSB0aGUgc2FtZS5cbiAgICogUmV0dXJucyAxIGlmIHRoZSBmaXJzdCBkYXRlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgc2Vjb25kLlxuICAgKiBSZXR1cm5zIC0xIGlmIHRoZSBzZWNvbmQgZGF0ZSBpcyBncmVhdGVyIHRoYW4gdGhlIGZpcnN0LlxuICAgKiAqL1xuICBhYnN0cmFjdCBjb21wYXJlRGF0ZXMoZGF0ZTE6IEQsIGRhdGUyOiBEKTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBDbG9uZXMgcGFzc2VkIGRhdGUuXG4gICAqICovXG4gIGFic3RyYWN0IGNsb25lKGRhdGU6IEQpOiBEO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBzYW1lIGRhdGUgYnV0IHdpdGggZGF5IGVxdWFscyB0byAxLlxuICAgKiAqL1xuICBhYnN0cmFjdCBnZXRNb250aFN0YXJ0KGRhdGU6IEQpOiBEO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBzYW1lIGRhdGUgYnV0IHdpdGggZGF5IGVxdWFscyB0byB0aGUgbGFzdCBkYXkgaW4gdGhpcyBtb250aC5cbiAgICogKi9cbiAgYWJzdHJhY3QgZ2V0TW9udGhFbmQoZGF0ZTogRCk6IEQ7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIHNhbWUgZGF0ZSBidXQgd2l0aCBtb250aCBlcXVhbHMgdG8gMCBhbmQgZGF5IGVxdWFscyB0byAxLlxuICAgKiAqL1xuICBhYnN0cmFjdCBnZXRZZWFyU3RhcnQoZGF0ZTogRCk6IEQ7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIHNhbWUgZGF0ZSBidXQgd2l0aCBtb250aCBlcXVhbHMgdG8gMTEgYW5kIGRheSBlcXVhbHMgdG8gMzEuXG4gICAqICovXG4gIGFic3RyYWN0IGdldFllYXJFbmQoZGF0ZTogRCk6IEQ7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbnVtYmVyIG9mIGRheXMgaW4gdGhlIGRhdGUuXG4gICAqICovXG4gIGFic3RyYWN0IGdldE51bWJlck9mRGF5c0luTW9udGgoZGF0ZTogRCk6IG51bWJlcjtcblxuICAvKipcbiAgICogUmV0dXJucyBkYXRlIHdpdGggYWRkZWQgbnVtYmVyIG9mIGRheXMuXG4gICAqICovXG4gIGFic3RyYWN0IGFkZERheShkYXRlOiBELCBkYXlzOiBudW1iZXIpOiBEO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGRhdGUgd2l0aCBhZGRlZCBudW1iZXIgb2YgbW9udGhzLlxuICAgKiAqL1xuICBhYnN0cmFjdCBhZGRNb250aChkYXRlOiBELCBtb250aHM6IG51bWJlcik6IEQ7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZGF0ZSB3aXRoIGFkZGVkIG51bWJlciBvZiBob3Vycy5cbiAgICogKi9cbiAgYWJzdHJhY3QgYWRkSG91cnMoZGF0ZTogRCwgaG91cjogbnVtYmVyKTogRDtcblxuICAgLyoqXG4gICAqIFJldHVybnMgZGF0ZSB3aXRoIGFkZGVkIG51bWJlciBvZiBtaW51dGVzLlxuICAgKiAqL1xuICBhYnN0cmFjdCBhZGRNaW51dGVzKGRhdGU6IEQsIG1pbnV0ZTogbnVtYmVyKTogRDtcblxuICAvKipcbiAgICogUmV0dXJucyBkYXRlIHdpdGggYWRkZWQgbnVtYmVyIG9mIHllYXJzLlxuICAgKiAqL1xuICBhYnN0cmFjdCBhZGRZZWFyKGRhdGU6IEQsIHllYXJzOiBudW1iZXIpOiBEO1xuXG4gIGFic3RyYWN0IGdldElkKCk6IHN0cmluZztcblxuICBhYnN0cmFjdCBnZXRXZWVrTnVtYmVyKGRhdGU6IEQpOiBudW1iZXI7XG5cbiAgYWJzdHJhY3QgZ2V0RGF0ZUZvcm1hdCgpOiBzdHJpbmc7XG5cbiAgYWJzdHJhY3QgZ2V0VHdlbHZlSG91cnNGb3JtYXQoKTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGRhdGUgd2l0aCBhZGRlZCBudW1iZXIgb2YgeWVhcnMuXG4gICAqICovXG4gIGFic3RyYWN0IHZhbHVlT2YoZGF0ZTogRCk6IG51bWJlcjtcblxuICBpc1NhbWVIb3VyQW5kTWludXRlKGRhdGUxOiBELCBkYXRlMjogRCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzU2FtZUhvdXIoZGF0ZTEsIGRhdGUyKSAmJiB0aGlzLmlzU2FtZU1pbnV0ZShkYXRlMSwgZGF0ZTIpO1xuICB9XG5cbiAgaXNTYW1lSG91cihkYXRlMTogRCwgZGF0ZTI6IEQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nZXRIb3VycyhkYXRlMSkgPT09IHRoaXMuZ2V0SG91cnMoZGF0ZTIpO1xuICB9XG5cbiAgaXNTYW1lTWludXRlKGRhdGUxOiBELCBkYXRlMjogRCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmdldE1pbnV0ZXMoZGF0ZTEpID09PSB0aGlzLmdldE1pbnV0ZXMoZGF0ZTIpO1xuICB9XG5cbiAgZ2V0VHdlbnR5Rm91ckhvdXJzRm9ybWF0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdISDptbSc7XG4gIH1cblxuICBnZXRUd2VudHlGb3VySG91cnNGb3JtYXRXaXRoU2Vjb25kcygpOiBzdHJpbmcge1xuICAgIHJldHVybiAnSEg6bW06c3MnXG4gIH1cblxuICBnZXRUd2VsdmVIb3Vyc0Zvcm1hdFdpdGhTZWNvbmRzKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdoaDptbTpzcyBhJztcbiAgfVxuXG4gIGdldERheVBlcmlvZChkYXRlOiBEKTogTmJEYXlQZXJpb2Qge1xuICAgIGNvbnN0IGlzRmlyc3REYXlQZXJpb2QgPSB0aGlzLmdldEhvdXJzKGRhdGUpIDwgdGhpcy5IT1VSU19JTl9EQVlfUEVSSU9EO1xuICAgIGlmIChpc0ZpcnN0RGF5UGVyaW9kKSB7XG4gICAgICByZXR1cm4gTmJEYXlQZXJpb2QuQU07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBOYkRheVBlcmlvZC5QTTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==