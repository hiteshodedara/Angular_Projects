/**
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */
import { Component, Input, Output, EventEmitter, Inject, PLATFORM_ID, } from '@angular/core';
import { isPlatformBrowser } from '@angular/common';
import { NavigationEnd } from '@angular/router';
import { Subject } from 'rxjs';
import { takeUntil, filter, map } from 'rxjs/operators';
import { convertToBoolProperty } from '../helpers';
import { NB_WINDOW } from '../../theme.options';
import { animate, state, style, transition, trigger } from '@angular/animations';
import * as i0 from "@angular/core";
import * as i1 from "./menu.service";
import * as i2 from "../../services/direction.service";
import * as i3 from "@angular/common";
import * as i4 from "@angular/router";
import * as i5 from "../icon/icon.component";
import * as i6 from "../badge/badge.component";
export var NbToggleStates;
(function (NbToggleStates) {
    NbToggleStates["Expanded"] = "expanded";
    NbToggleStates["Collapsed"] = "collapsed";
})(NbToggleStates || (NbToggleStates = {}));
export class NbMenuItemComponent {
    constructor(menuService, directionService) {
        this.menuService = menuService;
        this.directionService = directionService;
        this.menuItem = null;
        this.hoverItem = new EventEmitter();
        this.toggleSubMenu = new EventEmitter();
        this.selectItem = new EventEmitter();
        this.itemClick = new EventEmitter();
        this.destroy$ = new Subject();
    }
    ngDoCheck() {
        this.toggleState = this.menuItem.expanded ? NbToggleStates.Expanded : NbToggleStates.Collapsed;
    }
    ngAfterViewInit() {
        this.menuService.onSubmenuToggle()
            .pipe(filter(({ item }) => item === this.menuItem), map(({ item }) => item.expanded), takeUntil(this.destroy$))
            .subscribe(isExpanded => this.toggleState = isExpanded ? NbToggleStates.Expanded : NbToggleStates.Collapsed);
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
    onToggleSubMenu(item) {
        this.toggleSubMenu.emit(item);
    }
    onHoverItem(item) {
        this.hoverItem.emit(item);
    }
    onSelectItem(item) {
        this.selectItem.emit(item);
    }
    onItemClick(item) {
        this.itemClick.emit(item);
    }
    getExpandStateIcon() {
        if (this.menuItem.expanded) {
            return 'chevron-down-outline';
        }
        return this.directionService.isLtr()
            ? 'chevron-left-outline'
            : 'chevron-right-outline';
    }
}
NbMenuItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: NbMenuItemComponent, deps: [{ token: i1.NbMenuService }, { token: i2.NbLayoutDirectionService }], target: i0.ɵɵFactoryTarget.Component });
NbMenuItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.4", type: NbMenuItemComponent, selector: "[nbMenuItem]", inputs: { menuItem: "menuItem", badge: "badge" }, outputs: { hoverItem: "hoverItem", toggleSubMenu: "toggleSubMenu", selectItem: "selectItem", itemClick: "itemClick" }, ngImport: i0, template: "<span *ngIf=\"menuItem.group\">\n  <nb-icon class=\"menu-icon\" [config]=\"menuItem.icon\" *ngIf=\"menuItem.icon\"></nb-icon>\n  {{ menuItem.title }}\n</span>\n<a\n  *ngIf=\"menuItem.link && !menuItem.url && !menuItem.children && !menuItem.group\"\n  [routerLink]=\"menuItem.link\"\n  [queryParams]=\"menuItem.queryParams\"\n  [fragment]=\"menuItem.fragment\"\n  [queryParamsHandling]=\"menuItem.queryParamsHandling\"\n  [preserveFragment]=\"menuItem.preserveFragment\"\n  [skipLocationChange]=\"menuItem.skipLocationChange\"\n  [attr.target]=\"menuItem.target\"\n  [attr.title]=\"menuItem.title\"\n  [attr.role]=\"menuItem.ariaRole\"\n  [class.active]=\"menuItem.selected\"\n  (mouseenter)=\"onHoverItem(menuItem)\"\n  (click)=\"onItemClick(menuItem)\"\n>\n  <nb-icon class=\"menu-icon\" [config]=\"menuItem.icon\" *ngIf=\"menuItem.icon\"></nb-icon>\n  <span class=\"menu-title\">{{ menuItem.title }}</span>\n  <ng-container *ngIf=\"badge\" [ngTemplateOutlet]=\"badgeTemplate\"></ng-container>\n</a>\n<a\n  *ngIf=\"menuItem.url && !menuItem.children && !menuItem.link && !menuItem.group\"\n  [attr.href]=\"menuItem.url\"\n  [attr.target]=\"menuItem.target\"\n  [attr.title]=\"menuItem.title\"\n  [attr.role]=\"menuItem.ariaRole\"\n  [class.active]=\"menuItem.selected\"\n  (mouseenter)=\"onHoverItem(menuItem)\"\n  (click)=\"onSelectItem(menuItem)\"\n>\n  <nb-icon class=\"menu-icon\" [config]=\"menuItem.icon\" *ngIf=\"menuItem.icon\"></nb-icon>\n  <span class=\"menu-title\">{{ menuItem.title }}</span>\n  <ng-container *ngIf=\"badge\" [ngTemplateOutlet]=\"badgeTemplate\"></ng-container>\n</a>\n<a\n  *ngIf=\"!menuItem.children && !menuItem.link && !menuItem.url && !menuItem.group\"\n  [attr.target]=\"menuItem.target\"\n  [attr.title]=\"menuItem.title\"\n  [attr.role]=\"menuItem.ariaRole\"\n  [class.active]=\"menuItem.selected\"\n  (mouseenter)=\"onHoverItem(menuItem)\"\n  (click)=\"$event.preventDefault(); onItemClick(menuItem)\"\n>\n  <nb-icon class=\"menu-icon\" [config]=\"menuItem.icon\" *ngIf=\"menuItem.icon\"></nb-icon>\n  <span class=\"menu-title\">{{ menuItem.title }}</span>\n  <ng-container *ngIf=\"badge\" [ngTemplateOutlet]=\"badgeTemplate\"></ng-container>\n</a>\n<a\n  *ngIf=\"menuItem.children\"\n  (click)=\"$event.preventDefault(); onToggleSubMenu(menuItem)\"\n  [attr.target]=\"menuItem.target\"\n  [attr.title]=\"menuItem.title\"\n  [attr.aria-expanded]=\"menuItem.expanded ?? false\"\n  [attr.role]=\"menuItem.ariaRole\"\n  [class.active]=\"menuItem.selected\"\n  (mouseenter)=\"onHoverItem(menuItem)\"\n  href=\"#\"\n>\n  <nb-icon class=\"menu-icon\" [config]=\"menuItem.icon\" *ngIf=\"menuItem.icon\"></nb-icon>\n  <span class=\"menu-title\">{{ menuItem.title }}</span>\n  <ng-container *ngIf=\"badge\" [ngTemplateOutlet]=\"badgeTemplate\"></ng-container>\n  <nb-icon class=\"expand-state\" [icon]=\"getExpandStateIcon()\" pack=\"nebular-essentials\"></nb-icon>\n</a>\n<ul\n  *ngIf=\"menuItem.children\"\n  [class.collapsed]=\"!(menuItem.children && menuItem.expanded)\"\n  [class.expanded]=\"menuItem.expanded\"\n  [@toggle]=\"toggleState\"\n  class=\"menu-items\"\n>\n  <ng-container *ngFor=\"let item of menuItem.children\">\n    <li\n      nbMenuItem\n      *ngIf=\"!item.hidden\"\n      [menuItem]=\"item\"\n      [badge]=\"item.badge\"\n      [class.menu-group]=\"item.group\"\n      (hoverItem)=\"onHoverItem($event)\"\n      (toggleSubMenu)=\"onToggleSubMenu($event)\"\n      (selectItem)=\"onSelectItem($event)\"\n      (itemClick)=\"onItemClick($event)\"\n      class=\"menu-item\"\n    ></li>\n  </ng-container>\n</ul>\n\n<ng-template #badgeTemplate>\n  <nb-badge [text]=\"badge.text\" [dotMode]=\"badge.dotMode\" [status]=\"badge.status\"> </nb-badge>\n</ng-template>\n", dependencies: [{ kind: "directive", type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i3.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i4.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "component", type: i5.NbIconComponent, selector: "nb-icon", inputs: ["icon", "pack", "options", "status", "config"] }, { kind: "component", type: i6.NbBadgeComponent, selector: "nb-badge", inputs: ["text", "position", "dotMode", "status"] }, { kind: "component", type: NbMenuItemComponent, selector: "[nbMenuItem]", inputs: ["menuItem", "badge"], outputs: ["hoverItem", "toggleSubMenu", "selectItem", "itemClick"] }], animations: [
        trigger('toggle', [
            state(NbToggleStates.Collapsed, style({ height: '0', margin: '0' })),
            state(NbToggleStates.Expanded, style({ height: '*' })),
            transition(`${NbToggleStates.Collapsed} <=> ${NbToggleStates.Expanded}`, animate(300)),
        ]),
    ] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: NbMenuItemComponent, decorators: [{
            type: Component,
            args: [{ selector: '[nbMenuItem]', animations: [
                        trigger('toggle', [
                            state(NbToggleStates.Collapsed, style({ height: '0', margin: '0' })),
                            state(NbToggleStates.Expanded, style({ height: '*' })),
                            transition(`${NbToggleStates.Collapsed} <=> ${NbToggleStates.Expanded}`, animate(300)),
                        ]),
                    ], template: "<span *ngIf=\"menuItem.group\">\n  <nb-icon class=\"menu-icon\" [config]=\"menuItem.icon\" *ngIf=\"menuItem.icon\"></nb-icon>\n  {{ menuItem.title }}\n</span>\n<a\n  *ngIf=\"menuItem.link && !menuItem.url && !menuItem.children && !menuItem.group\"\n  [routerLink]=\"menuItem.link\"\n  [queryParams]=\"menuItem.queryParams\"\n  [fragment]=\"menuItem.fragment\"\n  [queryParamsHandling]=\"menuItem.queryParamsHandling\"\n  [preserveFragment]=\"menuItem.preserveFragment\"\n  [skipLocationChange]=\"menuItem.skipLocationChange\"\n  [attr.target]=\"menuItem.target\"\n  [attr.title]=\"menuItem.title\"\n  [attr.role]=\"menuItem.ariaRole\"\n  [class.active]=\"menuItem.selected\"\n  (mouseenter)=\"onHoverItem(menuItem)\"\n  (click)=\"onItemClick(menuItem)\"\n>\n  <nb-icon class=\"menu-icon\" [config]=\"menuItem.icon\" *ngIf=\"menuItem.icon\"></nb-icon>\n  <span class=\"menu-title\">{{ menuItem.title }}</span>\n  <ng-container *ngIf=\"badge\" [ngTemplateOutlet]=\"badgeTemplate\"></ng-container>\n</a>\n<a\n  *ngIf=\"menuItem.url && !menuItem.children && !menuItem.link && !menuItem.group\"\n  [attr.href]=\"menuItem.url\"\n  [attr.target]=\"menuItem.target\"\n  [attr.title]=\"menuItem.title\"\n  [attr.role]=\"menuItem.ariaRole\"\n  [class.active]=\"menuItem.selected\"\n  (mouseenter)=\"onHoverItem(menuItem)\"\n  (click)=\"onSelectItem(menuItem)\"\n>\n  <nb-icon class=\"menu-icon\" [config]=\"menuItem.icon\" *ngIf=\"menuItem.icon\"></nb-icon>\n  <span class=\"menu-title\">{{ menuItem.title }}</span>\n  <ng-container *ngIf=\"badge\" [ngTemplateOutlet]=\"badgeTemplate\"></ng-container>\n</a>\n<a\n  *ngIf=\"!menuItem.children && !menuItem.link && !menuItem.url && !menuItem.group\"\n  [attr.target]=\"menuItem.target\"\n  [attr.title]=\"menuItem.title\"\n  [attr.role]=\"menuItem.ariaRole\"\n  [class.active]=\"menuItem.selected\"\n  (mouseenter)=\"onHoverItem(menuItem)\"\n  (click)=\"$event.preventDefault(); onItemClick(menuItem)\"\n>\n  <nb-icon class=\"menu-icon\" [config]=\"menuItem.icon\" *ngIf=\"menuItem.icon\"></nb-icon>\n  <span class=\"menu-title\">{{ menuItem.title }}</span>\n  <ng-container *ngIf=\"badge\" [ngTemplateOutlet]=\"badgeTemplate\"></ng-container>\n</a>\n<a\n  *ngIf=\"menuItem.children\"\n  (click)=\"$event.preventDefault(); onToggleSubMenu(menuItem)\"\n  [attr.target]=\"menuItem.target\"\n  [attr.title]=\"menuItem.title\"\n  [attr.aria-expanded]=\"menuItem.expanded ?? false\"\n  [attr.role]=\"menuItem.ariaRole\"\n  [class.active]=\"menuItem.selected\"\n  (mouseenter)=\"onHoverItem(menuItem)\"\n  href=\"#\"\n>\n  <nb-icon class=\"menu-icon\" [config]=\"menuItem.icon\" *ngIf=\"menuItem.icon\"></nb-icon>\n  <span class=\"menu-title\">{{ menuItem.title }}</span>\n  <ng-container *ngIf=\"badge\" [ngTemplateOutlet]=\"badgeTemplate\"></ng-container>\n  <nb-icon class=\"expand-state\" [icon]=\"getExpandStateIcon()\" pack=\"nebular-essentials\"></nb-icon>\n</a>\n<ul\n  *ngIf=\"menuItem.children\"\n  [class.collapsed]=\"!(menuItem.children && menuItem.expanded)\"\n  [class.expanded]=\"menuItem.expanded\"\n  [@toggle]=\"toggleState\"\n  class=\"menu-items\"\n>\n  <ng-container *ngFor=\"let item of menuItem.children\">\n    <li\n      nbMenuItem\n      *ngIf=\"!item.hidden\"\n      [menuItem]=\"item\"\n      [badge]=\"item.badge\"\n      [class.menu-group]=\"item.group\"\n      (hoverItem)=\"onHoverItem($event)\"\n      (toggleSubMenu)=\"onToggleSubMenu($event)\"\n      (selectItem)=\"onSelectItem($event)\"\n      (itemClick)=\"onItemClick($event)\"\n      class=\"menu-item\"\n    ></li>\n  </ng-container>\n</ul>\n\n<ng-template #badgeTemplate>\n  <nb-badge [text]=\"badge.text\" [dotMode]=\"badge.dotMode\" [status]=\"badge.status\"> </nb-badge>\n</ng-template>\n" }]
        }], ctorParameters: function () { return [{ type: i1.NbMenuService }, { type: i2.NbLayoutDirectionService }]; }, propDecorators: { menuItem: [{
                type: Input
            }], badge: [{
                type: Input
            }], hoverItem: [{
                type: Output
            }], toggleSubMenu: [{
                type: Output
            }], selectItem: [{
                type: Output
            }], itemClick: [{
                type: Output
            }] } });
/**
 * Vertical menu component.
 *
 * Accepts a list of menu items and renders them accordingly. Supports multi-level menus.
 *
 * Basic example
 * @stacked-example(Showcase, menu/menu-showcase.component)
 *
 * ```ts
 * // ...
 * items: NbMenuItem[] = [
 *  {
 *    title: home,
 *    link: '/'
 *  },
 *  {
 *    title: dashboard,
 *    link: 'dashboard'
 *  }
 * ];
 * // ...
 * <nb-menu [items]="items"></nb-menu>
 * ```
 * ### Installation
 *
 * Import `NbMenuModule.forRoot()` to your app module.
 * ```ts
 * @NgModule({
 *   imports: [
 *     // ...
 *     NbMenuModule.forRoot(),
 *   ],
 * })
 * export class AppModule { }
 * ```
 * and `NbMenuModule` to your feature module where the component should be shown:
 * ```ts
 * @NgModule({
 *   imports: [
 *     // ...
 *     NbMenuModule,
 *   ],
 * })
 * export class PageModule { }
 * ```
 * ### Usage
 *
 * Two-level menu example
 * @stacked-example(Two Levels, menu/menu-children.component)
 *
 *
 * Autocollapse menu example
 * @stacked-example(Autocollapse Menu, menu/menu-autocollapse.component)
 *
 * Menu badge
 * @stacked-example(Menu item badge, menu/menu-badge.component)
 *
 * @styles
 *
 * menu-background-color:
 * menu-text-color:
 * menu-text-font-family:
 * menu-text-font-size:
 * menu-text-font-weight:
 * menu-text-line-height:
 * menu-group-text-color:
 * menu-item-border-radius:
 * menu-item-padding:
 * menu-item-hover-background-color:
 * menu-item-hover-cursor:
 * menu-item-hover-text-color:
 * menu-item-icon-hover-color:
 * menu-item-active-background-color:
 * menu-item-active-text-color:
 * menu-item-icon-active-color:
 * menu-item-icon-color:
 * menu-item-icon-margin:
 * menu-item-icon-width:
 * menu-item-divider-color:
 * menu-item-divider-style:
 * menu-item-divider-width:
 * menu-submenu-background-color:
 * menu-submenu-text-color:
 * menu-submenu-margin:
 * menu-submenu-padding:
 * menu-submenu-item-border-color:
 * menu-submenu-item-border-style:
 * menu-submenu-item-border-width:
 * menu-submenu-item-border-radius:
 * menu-submenu-item-padding:
 * menu-submenu-item-hover-background-color:
 * menu-submenu-item-hover-border-color:
 * menu-submenu-item-hover-text-color:
 * menu-submenu-item-icon-hover-color:
 * menu-submenu-item-active-background-color:
 * menu-submenu-item-active-border-color:
 * menu-submenu-item-active-text-color:
 * menu-submenu-item-icon-active-color:
 * menu-submenu-item-active-hover-background-color:
 * menu-submenu-item-active-hover-border-color:
 * menu-submenu-item-active-hover-text-color:
 * menu-submenu-item-icon-active-hover-color:
 */
export class NbMenuComponent {
    /**
     * Collapse all opened submenus on the toggle event
     * Default value is "false"
     * @type boolean
     */
    get autoCollapse() {
        return this._autoCollapse;
    }
    set autoCollapse(value) {
        this._autoCollapse = convertToBoolProperty(value);
    }
    constructor(window, platformId, menuInternalService, router) {
        this.window = window;
        this.platformId = platformId;
        this.menuInternalService = menuInternalService;
        this.router = router;
        this._autoCollapse = false;
        this.destroy$ = new Subject();
    }
    ngOnInit() {
        this.menuInternalService.prepareItems(this.items);
        this.menuInternalService
            .onAddItem()
            .pipe(filter((data) => this.compareTag(data.tag)), takeUntil(this.destroy$))
            .subscribe(data => this.onAddItem(data));
        this.menuInternalService
            .onNavigateHome()
            .pipe(filter((data) => this.compareTag(data.tag)), takeUntil(this.destroy$))
            .subscribe(() => this.navigateHome());
        this.menuInternalService
            .onGetSelectedItem()
            .pipe(filter((data) => this.compareTag(data.tag)), takeUntil(this.destroy$))
            .subscribe((data) => {
            data.listener.next({ tag: this.tag, item: this.getSelectedItem(this.items) });
        });
        this.menuInternalService
            .onCollapseAll()
            .pipe(filter((data) => this.compareTag(data.tag)), takeUntil(this.destroy$))
            .subscribe(() => this.collapseAll());
        this.router.events
            .pipe(filter(event => event instanceof NavigationEnd), takeUntil(this.destroy$))
            .subscribe(() => {
            this.menuInternalService.selectFromUrl(this.items, this.tag, this.autoCollapse);
        });
    }
    ngAfterViewInit() {
        setTimeout(() => this.menuInternalService.selectFromUrl(this.items, this.tag, this.autoCollapse));
    }
    onAddItem(data) {
        this.items.push(...data.items);
        this.menuInternalService.prepareItems(this.items);
        this.menuInternalService.selectFromUrl(this.items, this.tag, this.autoCollapse);
    }
    onHoverItem(item) {
        this.menuInternalService.itemHover(item, this.tag);
    }
    onToggleSubMenu(item) {
        if (this.autoCollapse) {
            this.menuInternalService.collapseAll(this.items, this.tag, item);
        }
        item.expanded = !item.expanded;
        this.menuInternalService.submenuToggle(item, this.tag);
    }
    // TODO: is not fired on page reload
    onSelectItem(item) {
        this.menuInternalService.selectItem(item, this.items, this.autoCollapse, this.tag);
    }
    onItemClick(item) {
        this.menuInternalService.itemClick(item, this.tag);
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
    navigateHome() {
        const homeItem = this.getHomeItem(this.items);
        if (homeItem) {
            if (homeItem.link) {
                const extras = {
                    queryParams: homeItem.queryParams,
                    queryParamsHandling: homeItem.queryParamsHandling,
                    fragment: homeItem.fragment,
                    preserveFragment: homeItem.preserveFragment,
                };
                this.router.navigate([homeItem.link], extras);
            }
            if (homeItem.url && isPlatformBrowser(this.platformId)) {
                this.window.location.href = homeItem.url;
            }
        }
    }
    collapseAll() {
        this.menuInternalService.collapseAll(this.items, this.tag);
    }
    getHomeItem(items) {
        for (const item of items) {
            if (item.home) {
                return item;
            }
            const homeItem = item.children && this.getHomeItem(item.children);
            if (homeItem) {
                return homeItem;
            }
        }
        return undefined;
    }
    compareTag(tag) {
        return !tag || tag === this.tag;
    }
    getSelectedItem(items) {
        let selected = null;
        items.forEach((item) => {
            if (item.selected) {
                selected = item;
            }
            if (item.selected && item.children && item.children.length > 0) {
                selected = this.getSelectedItem(item.children);
            }
        });
        return selected;
    }
}
NbMenuComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: NbMenuComponent, deps: [{ token: NB_WINDOW }, { token: PLATFORM_ID }, { token: i1.NbMenuInternalService }, { token: i4.Router }], target: i0.ɵɵFactoryTarget.Component });
NbMenuComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.4", type: NbMenuComponent, selector: "nb-menu", inputs: { tag: "tag", items: "items", autoCollapse: "autoCollapse" }, ngImport: i0, template: `
    <ul class="menu-items">
      <ng-container *ngFor="let item of items">
        <li nbMenuItem *ngIf="!item.hidden"
            [menuItem]="item"
            [badge]="item.badge"
            [class.menu-group]="item.group"
            (hoverItem)="onHoverItem($event)"
            (toggleSubMenu)="onToggleSubMenu($event)"
            (selectItem)="onSelectItem($event)"
            (itemClick)="onItemClick($event)"
            class="menu-item">
        </li>
      </ng-container>
    </ul>
  `, isInline: true, styles: ["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */:host ::ng-deep{display:block}:host ::ng-deep .menu-items,:host ::ng-deep .menu-item>.menu-items{list-style-type:none;overflow:hidden}:host ::ng-deep .menu-item a{display:flex;text-decoration:none;align-items:center}:host ::ng-deep .menu-item a .menu-title{flex:1 0 auto;pointer-events:none}[dir=rtl] :host ::ng-deep .menu-item a .menu-title{text-align:right}:host ::ng-deep .menu-item nb-badge{position:static}:host ::ng-deep .menu-group span{display:flex}\n"], dependencies: [{ kind: "directive", type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: NbMenuItemComponent, selector: "[nbMenuItem]", inputs: ["menuItem", "badge"], outputs: ["hoverItem", "toggleSubMenu", "selectItem", "itemClick"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: NbMenuComponent, decorators: [{
            type: Component,
            args: [{ selector: 'nb-menu', template: `
    <ul class="menu-items">
      <ng-container *ngFor="let item of items">
        <li nbMenuItem *ngIf="!item.hidden"
            [menuItem]="item"
            [badge]="item.badge"
            [class.menu-group]="item.group"
            (hoverItem)="onHoverItem($event)"
            (toggleSubMenu)="onToggleSubMenu($event)"
            (selectItem)="onSelectItem($event)"
            (itemClick)="onItemClick($event)"
            class="menu-item">
        </li>
      </ng-container>
    </ul>
  `, styles: ["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */:host ::ng-deep{display:block}:host ::ng-deep .menu-items,:host ::ng-deep .menu-item>.menu-items{list-style-type:none;overflow:hidden}:host ::ng-deep .menu-item a{display:flex;text-decoration:none;align-items:center}:host ::ng-deep .menu-item a .menu-title{flex:1 0 auto;pointer-events:none}[dir=rtl] :host ::ng-deep .menu-item a .menu-title{text-align:right}:host ::ng-deep .menu-item nb-badge{position:static}:host ::ng-deep .menu-group span{display:flex}\n"] }]
        }], ctorParameters: function () { return [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [NB_WINDOW]
                }] }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [PLATFORM_ID]
                }] }, { type: i1.NbMenuInternalService }, { type: i4.Router }]; }, propDecorators: { tag: [{
                type: Input
            }], items: [{
                type: Input
            }], autoCollapse: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL3RoZW1lL2NvbXBvbmVudHMvbWVudS9tZW51LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3NyYy9mcmFtZXdvcmsvdGhlbWUvY29tcG9uZW50cy9tZW51L21lbnUtaXRlbS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHO0FBRUgsT0FBTyxFQUNMLFNBQVMsRUFDVCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFlBQVksRUFJWixNQUFNLEVBRU4sV0FBVyxHQUNaLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3BELE9BQU8sRUFBVSxhQUFhLEVBQW9CLE1BQU0saUJBQWlCLENBQUM7QUFDMUUsT0FBTyxFQUFtQixPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDaEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFeEQsT0FBTyxFQUFFLHFCQUFxQixFQUFrQixNQUFNLFlBQVksQ0FBQztBQUNuRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDaEQsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQzs7Ozs7Ozs7QUFHakYsTUFBTSxDQUFOLElBQVksY0FHWDtBQUhELFdBQVksY0FBYztJQUN4Qix1Q0FBcUIsQ0FBQTtJQUNyQix5Q0FBdUIsQ0FBQTtBQUN6QixDQUFDLEVBSFcsY0FBYyxLQUFkLGNBQWMsUUFHekI7QUFhRCxNQUFNLE9BQU8sbUJBQW1CO0lBWTlCLFlBQXNCLFdBQTBCLEVBQzFCLGdCQUEwQztRQUQxQyxnQkFBVyxHQUFYLFdB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QUFJLFFBQVEsRUFBRTtnQkFDWixPQUFPLFFBQVEsQ0FBQzthQUNqQjtTQUNGO1FBRUQsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQztJQUVTLFVBQVUsQ0FBQyxHQUFXO1FBQzlCLE9BQU8sQ0FBQyxHQUFHLElBQUksR0FBRyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDbEMsQ0FBQztJQUVTLGVBQWUsQ0FBQyxLQUFtQjtRQUMzQyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDcEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQWdCLEVBQUUsRUFBRTtZQUNqQyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2pCLFFBQVEsR0FBRyxJQUFJLENBQUM7YUFDakI7WUFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQzlELFFBQVEsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUNoRDtRQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQzs7NEdBakxVLGVBQWUsa0JBaUNOLFNBQVMsYUFDVCxXQUFXO2dHQWxDcEIsZUFBZSxxSEFqQmhCOzs7Ozs7Ozs7Ozs7Ozs7R0FlVCxzNUJBdExVLG1CQUFtQjsyRkF3TG5CLGVBQWU7a0JBcEIzQixTQUFTOytCQUNFLFNBQVMsWUFFVDs7Ozs7Ozs7Ozs7Ozs7O0dBZVQ7OzBCQW1DWSxNQUFNOzJCQUFDLFNBQVM7OzBCQUNoQixNQUFNOzJCQUFDLFdBQVc7cUdBMUJ0QixHQUFHO3NCQUFYLEtBQUs7Z0JBTUcsS0FBSztzQkFBYixLQUFLO2dCQVFGLFlBQVk7c0JBRGYsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBBa3Zlby4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi9cblxuaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBJbnB1dCxcbiAgT3V0cHV0LFxuICBFdmVudEVtaXR0ZXIsXG4gIE9uSW5pdCxcbiAgT25EZXN0cm95LFxuICBBZnRlclZpZXdJbml0LFxuICBJbmplY3QsXG4gIERvQ2hlY2ssXG4gIFBMQVRGT1JNX0lELFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGlzUGxhdGZvcm1Ccm93c2VyIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFJvdXRlciwgTmF2aWdhdGlvbkVuZCwgTmF2aWdhdGlvbkV4dHJhcyB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHRha2VVbnRpbCwgZmlsdGVyLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBOYk1lbnVJbnRlcm5hbFNlcnZpY2UsIE5iTWVudUl0ZW0sIE5iTWVudUJhZywgTmJNZW51U2VydmljZSwgTmJNZW51QmFkZ2VDb25maWcgfSBmcm9tICcuL21lbnUuc2VydmljZSc7XG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sUHJvcGVydHksIE5iQm9vbGVhbklucHV0IH0gZnJvbSAnLi4vaGVscGVycyc7XG5pbXBvcnQgeyBOQl9XSU5ET1cgfSBmcm9tICcuLi8uLi90aGVtZS5vcHRpb25zJztcbmltcG9ydCB7IGFuaW1hdGUsIHN0YXRlLCBzdHlsZSwgdHJhbnNpdGlvbiwgdHJpZ2dlciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHsgTmJMYXlvdXREaXJlY3Rpb25TZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZGlyZWN0aW9uLnNlcnZpY2UnO1xuXG5leHBvcnQgZW51bSBOYlRvZ2dsZVN0YXRlcyB7XG4gIEV4cGFuZGVkID0gJ2V4cGFuZGVkJyxcbiAgQ29sbGFwc2VkID0gJ2NvbGxhcHNlZCcsXG59XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ1tuYk1lbnVJdGVtXScsXG4gIHRlbXBsYXRlVXJsOiAnLi9tZW51LWl0ZW0uY29tcG9uZW50Lmh0bWwnLFxuICBhbmltYXRpb25zOiBbXG4gICAgdHJpZ2dlcigndG9nZ2xlJywgW1xuICAgICAgc3RhdGUoTmJUb2dnbGVTdGF0ZXMuQ29sbGFwc2VkLCBzdHlsZSh7IGhlaWdodDogJzAnLCBtYXJnaW46ICcwJyB9KSksXG4gICAgICBzdGF0ZShOYlRvZ2dsZVN0YXRlcy5FeHBhbmRlZCwgc3R5bGUoeyBoZWlnaHQ6ICcqJyB9KSksXG4gICAgICB0cmFuc2l0aW9uKGAke05iVG9nZ2xlU3RhdGVzLkNvbGxhcHNlZH0gPD0+ICR7TmJUb2dnbGVTdGF0ZXMuRXhwYW5kZWR9YCwgYW5pbWF0ZSgzMDApKSxcbiAgICBdKSxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgTmJNZW51SXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIERvQ2hlY2ssIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpIG1lbnVJdGVtID0gPE5iTWVudUl0ZW0+bnVsbDtcbiAgQElucHV0KCkgYmFkZ2U6IE5iTWVudUJhZGdlQ29uZmlnO1xuXG4gIEBPdXRwdXQoKSBob3Zlckl0ZW0gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgpIHRvZ2dsZVN1Yk1lbnUgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgpIHNlbGVjdEl0ZW0gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgpIGl0ZW1DbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIHByb3RlY3RlZCBkZXN0cm95JCA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XG4gIHRvZ2dsZVN0YXRlOiBOYlRvZ2dsZVN0YXRlcztcblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgbWVudVNlcnZpY2U6IE5iTWVudVNlcnZpY2UsXG4gICAgICAgICAgICAgIHByb3RlY3RlZCBkaXJlY3Rpb25TZXJ2aWNlOiBOYkxheW91dERpcmVjdGlvblNlcnZpY2UpIHt9XG5cbiAgbmdEb0NoZWNrKCkge1xuICAgIHRoaXMudG9nZ2xlU3RhdGUgPSB0aGlzLm1lbnVJdGVtLmV4cGFuZGVkID8gTmJUb2dnbGVTdGF0ZXMuRXhwYW5kZWQgOiBOYlRvZ2dsZVN0YXRlcy5Db2xsYXBzZWQ7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgdGhpcy5tZW51U2VydmljZS5vblN1Ym1lbnVUb2dnbGUoKVxuICAgICAgLnBpcGUoXG4gICAgICAgIGZpbHRlcigoeyBpdGVtIH0pID0+IGl0ZW0gPT09IHRoaXMubWVudUl0ZW0pLFxuICAgICAgICBtYXAoKHsgaXRlbSB9OiBOYk1lbnVCYWcpID0+IGl0ZW0uZXhwYW5kZWQpLFxuICAgICAgICB0YWtlVW50aWwodGhpcy5kZXN0cm95JCksXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKGlzRXhwYW5kZWQgPT4gdGhpcy50b2dnbGVTdGF0ZSA9IGlzRXhwYW5kZWQgPyBOYlRvZ2dsZVN0YXRlcy5FeHBhbmRlZCA6IE5iVG9nZ2xlU3RhdGVzLkNvbGxhcHNlZCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLmRlc3Ryb3kkLm5leHQoKTtcbiAgICB0aGlzLmRlc3Ryb3kkLmNvbXBsZXRlKCk7XG4gIH1cblxuICBvblRvZ2dsZVN1Yk1lbnUoaXRlbTogTmJNZW51SXRlbSkge1xuICAgIHRoaXMudG9nZ2xlU3ViTWVudS5lbWl0KGl0ZW0pO1xuICB9XG5cbiAgb25Ib3Zlckl0ZW0oaXRlbTogTmJNZW51SXRlbSkge1xuICAgIHRoaXMuaG92ZXJJdGVtLmVtaXQoaXRlbSk7XG4gIH1cblxuICBvblNlbGVjdEl0ZW0oaXRlbTogTmJNZW51SXRlbSkge1xuICAgIHRoaXMuc2VsZWN0SXRlbS5lbWl0KGl0ZW0pO1xuICB9XG5cbiAgb25JdGVtQ2xpY2soaXRlbTogTmJNZW51SXRlbSkge1xuICAgIHRoaXMuaXRlbUNsaWNrLmVtaXQoaXRlbSk7XG4gIH1cblxuICBnZXRFeHBhbmRTdGF0ZUljb24oKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5tZW51SXRlbS5leHBhbmRlZCkge1xuICAgICAgcmV0dXJuICdjaGV2cm9uLWRvd24tb3V0bGluZSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGlyZWN0aW9uU2VydmljZS5pc0x0cigpXG4gICAgICA/ICdjaGV2cm9uLWxlZnQtb3V0bGluZSdcbiAgICAgIDogJ2NoZXZyb24tcmlnaHQtb3V0bGluZSc7XG4gIH1cbn1cblxuLyoqXG4gKiBWZXJ0aWNhbCBtZW51IGNvbXBvbmVudC5cbiAqXG4gKiBBY2NlcHRzIGEgbGlzdCBvZiBtZW51IGl0ZW1zIGFuZCByZW5kZXJzIHRoZW0gYWNjb3JkaW5nbHkuIFN1cHBvcnRzIG11bHRpLWxldmVsIG1lbnVzLlxuICpcbiAqIEJhc2ljIGV4YW1wbGVcbiAqIEBzdGFja2VkLWV4YW1wbGUoU2hvd2Nhc2UsIG1lbnUvbWVudS1zaG93Y2FzZS5jb21wb25lbnQpXG4gKlxuICogYGBgdHNcbiAqIC8vIC4uLlxuICogaXRlbXM6IE5iTWVudUl0ZW1bXSA9IFtcbiAqICB7XG4gKiAgICB0aXRsZTogaG9tZSxcbiAqICAgIGxpbms6ICcvJ1xuICogIH0sXG4gKiAge1xuICogICAgdGl0bGU6IGRhc2hib2FyZCxcbiAqICAgIGxpbms6ICdkYXNoYm9hcmQnXG4gKiAgfVxuICogXTtcbiAqIC8vIC4uLlxuICogPG5iLW1lbnUgW2l0ZW1zXT1cIml0ZW1zXCI+PC9uYi1tZW51PlxuICogYGBgXG4gKiAjIyMgSW5zdGFsbGF0aW9uXG4gKlxuICogSW1wb3J0IGBOYk1lbnVNb2R1bGUuZm9yUm9vdCgpYCB0byB5b3VyIGFwcCBtb2R1bGUuXG4gKiBgYGB0c1xuICogQE5nTW9kdWxlKHtcbiAqICAgaW1wb3J0czogW1xuICogICAgIC8vIC4uLlxuICogICAgIE5iTWVudU1vZHVsZS5mb3JSb290KCksXG4gKiAgIF0sXG4gKiB9KVxuICogZXhwb3J0IGNsYXNzIEFwcE1vZHVsZSB7IH1cbiAqIGBgYFxuICogYW5kIGBOYk1lbnVNb2R1bGVgIHRvIHlvdXIgZmVhdHVyZSBtb2R1bGUgd2hlcmUgdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgc2hvd246XG4gKiBgYGB0c1xuICogQE5nTW9kdWxlKHtcbiAqICAgaW1wb3J0czogW1xuICogICAgIC8vIC4uLlxuICogICAgIE5iTWVudU1vZHVsZSxcbiAqICAgXSxcbiAqIH0pXG4gKiBleHBvcnQgY2xhc3MgUGFnZU1vZHVsZSB7IH1cbiAqIGBgYFxuICogIyMjIFVzYWdlXG4gKlxuICogVHdvLWxldmVsIG1lbnUgZXhhbXBsZVxuICogQHN0YWNrZWQtZXhhbXBsZShUd28gTGV2ZWxzLCBtZW51L21lbnUtY2hpbGRyZW4uY29tcG9uZW50KVxuICpcbiAqXG4gKiBBdXRvY29sbGFwc2UgbWVudSBleGFtcGxlXG4gKiBAc3RhY2tlZC1leGFtcGxlKEF1dG9jb2xsYXBzZSBNZW51LCBtZW51L21lbnUtYXV0b2NvbGxhcHNlLmNvbXBvbmVudClcbiAqXG4gKiBNZW51IGJhZGdlXG4gKiBAc3RhY2tlZC1leGFtcGxlKE1lbnUgaXRlbSBiYWRnZSwgbWVudS9tZW51LWJhZGdlLmNvbXBvbmVudClcbiAqXG4gKiBAc3R5bGVzXG4gKlxuICogbWVudS1iYWNrZ3JvdW5kLWNvbG9yOlxuICogbWVudS10ZXh0LWNvbG9yOlxuICogbWVudS10ZXh0LWZvbnQtZmFtaWx5OlxuICogbWVudS10ZXh0LWZvbnQtc2l6ZTpcbiAqIG1lbnUtdGV4dC1mb250LXdlaWdodDpcbiAqIG1lbnUtdGV4dC1saW5lLWhlaWdodDpcbiAqIG1lbnUtZ3JvdXAtdGV4dC1jb2xvcjpcbiAqIG1lbnUtaXRlbS1ib3JkZXItcmFkaXVzOlxuICogbWVudS1pdGVtLXBhZGRpbmc6XG4gKiBtZW51LWl0ZW0taG92ZXItYmFja2dyb3VuZC1jb2xvcjpcbiAqIG1lbnUtaXRlbS1ob3Zlci1jdXJzb3I6XG4gKiBtZW51LWl0ZW0taG92ZXItdGV4dC1jb2xvcjpcbiAqIG1lbnUtaXRlbS1pY29uLWhvdmVyLWNvbG9yOlxuICogbWVudS1pdGVtLWFjdGl2ZS1iYWNrZ3JvdW5kLWNvbG9yOlxuICogbWVudS1pdGVtLWFjdGl2ZS10ZXh0LWNvbG9yOlxuICogbWVudS1pdGVtLWljb24tYWN0aXZlLWNvbG9yOlxuICogbWVudS1pdGVtLWljb24tY29sb3I6XG4gKiBtZW51LWl0ZW0taWNvbi1tYXJnaW46XG4gKiBtZW51LWl0ZW0taWNvbi13aWR0aDpcbiAqIG1lbnUtaXRlbS1kaXZpZGVyLWNvbG9yOlxuICogbWVudS1pdGVtLWRpdmlkZXItc3R5bGU6XG4gKiBtZW51LWl0ZW0tZGl2aWRlci13aWR0aDpcbiAqIG1lbnUtc3VibWVudS1iYWNrZ3JvdW5kLWNvbG9yOlxuICogbWVudS1zdWJtZW51LXRleHQtY29sb3I6XG4gKiBtZW51LXN1Ym1lbnUtbWFyZ2luOlxuICogbWVudS1zdWJtZW51LXBhZGRpbmc6XG4gKiBtZW51LXN1Ym1lbnUtaXRlbS1ib3JkZXItY29sb3I6XG4gKiBtZW51LXN1Ym1lbnUtaXRlbS1ib3JkZXItc3R5bGU6XG4gKiBtZW51LXN1Ym1lbnUtaXRlbS1ib3JkZXItd2lkdGg6XG4gKiBtZW51LXN1Ym1lbnUtaXRlbS1ib3JkZXItcmFkaXVzOlxuICogbWVudS1zdWJtZW51LWl0ZW0tcGFkZGluZzpcbiAqIG1lbnUtc3VibWVudS1pdGVtLWhvdmVyLWJhY2tncm91bmQtY29sb3I6XG4gKiBtZW51LXN1Ym1lbnUtaXRlbS1ob3Zlci1ib3JkZXItY29sb3I6XG4gKiBtZW51LXN1Ym1lbnUtaXRlbS1ob3Zlci10ZXh0LWNvbG9yOlxuICogbWVudS1zdWJtZW51LWl0ZW0taWNvbi1ob3Zlci1jb2xvcjpcbiAqIG1lbnUtc3VibWVudS1pdGVtLWFjdGl2ZS1iYWNrZ3JvdW5kLWNvbG9yOlxuICogbWVudS1zdWJtZW51LWl0ZW0tYWN0aXZlLWJvcmRlci1jb2xvcjpcbiAqIG1lbnUtc3VibWVudS1pdGVtLWFjdGl2ZS10ZXh0LWNvbG9yOlxuICogbWVudS1zdWJtZW51LWl0ZW0taWNvbi1hY3RpdmUtY29sb3I6XG4gKiBtZW51LXN1Ym1lbnUtaXRlbS1hY3RpdmUtaG92ZXItYmFja2dyb3VuZC1jb2xvcjpcbiAqIG1lbnUtc3VibWVudS1pdGVtLWFjdGl2ZS1ob3Zlci1ib3JkZXItY29sb3I6XG4gKiBtZW51LXN1Ym1lbnUtaXRlbS1hY3RpdmUtaG92ZXItdGV4dC1jb2xvcjpcbiAqIG1lbnUtc3VibWVudS1pdGVtLWljb24tYWN0aXZlLWhvdmVyLWNvbG9yOlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduYi1tZW51JyxcbiAgc3R5bGVVcmxzOiBbJy4vbWVudS5jb21wb25lbnQuc2NzcyddLFxuICB0ZW1wbGF0ZTogYFxuICAgIDx1bCBjbGFzcz1cIm1lbnUtaXRlbXNcIj5cbiAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGl0ZW0gb2YgaXRlbXNcIj5cbiAgICAgICAgPGxpIG5iTWVudUl0ZW0gKm5nSWY9XCIhaXRlbS5oaWRkZW5cIlxuICAgICAgICAgICAgW21lbnVJdGVtXT1cIml0ZW1cIlxuICAgICAgICAgICAgW2JhZGdlXT1cIml0ZW0uYmFkZ2VcIlxuICAgICAgICAgICAgW2NsYXNzLm1lbnUtZ3JvdXBdPVwiaXRlbS5ncm91cFwiXG4gICAgICAgICAgICAoaG92ZXJJdGVtKT1cIm9uSG92ZXJJdGVtKCRldmVudClcIlxuICAgICAgICAgICAgKHRvZ2dsZVN1Yk1lbnUpPVwib25Ub2dnbGVTdWJNZW51KCRldmVudClcIlxuICAgICAgICAgICAgKHNlbGVjdEl0ZW0pPVwib25TZWxlY3RJdGVtKCRldmVudClcIlxuICAgICAgICAgICAgKGl0ZW1DbGljayk9XCJvbkl0ZW1DbGljaygkZXZlbnQpXCJcbiAgICAgICAgICAgIGNsYXNzPVwibWVudS1pdGVtXCI+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICA8L3VsPlxuICBgLFxufSlcbmV4cG9ydCBjbGFzcyBOYk1lbnVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSB7XG5cbiAgLyoqXG4gICAqIFRhZ3MgYSBtZW51IHdpdGggc29tZSBJRCwgY2FuIGJlIGxhdGVyIHVzZWQgaW4gdGhlIG1lbnUgc2VydmljZVxuICAgKiB0byBkZXRlcm1pbmUgd2hpY2ggbWVudSB0cmlnZ2VyZWQgdGhlIGFjdGlvbiwgaWYgbXVsdGlwbGUgbWVudXMgZXhpc3Qgb24gdGhlIHBhZ2UuXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBASW5wdXQoKSB0YWc6IHN0cmluZztcblxuICAvKipcbiAgICogTGlzdCBvZiBtZW51IGl0ZW1zLlxuICAgKiBAdHlwZSBMaXN0PE5iTWVudUl0ZW0+IHwgTGlzdDxhbnk+IHwgYW55XG4gICAqL1xuICBASW5wdXQoKSBpdGVtczogTmJNZW51SXRlbVtdO1xuXG4gIC8qKlxuICAgKiBDb2xsYXBzZSBhbGwgb3BlbmVkIHN1Ym1lbnVzIG9uIHRoZSB0b2dnbGUgZXZlbnRcbiAgICogRGVmYXVsdCB2YWx1ZSBpcyBcImZhbHNlXCJcbiAgICogQHR5cGUgYm9vbGVhblxuICAgKi9cbiAgQElucHV0KClcbiAgZ2V0IGF1dG9Db2xsYXBzZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fYXV0b0NvbGxhcHNlO1xuICB9XG4gIHNldCBhdXRvQ29sbGFwc2UodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9hdXRvQ29sbGFwc2UgPSBjb252ZXJ0VG9Cb29sUHJvcGVydHkodmFsdWUpO1xuICB9XG4gIHByb3RlY3RlZCBfYXV0b0NvbGxhcHNlOiBib29sZWFuID0gZmFsc2U7XG4gIHN0YXRpYyBuZ0FjY2VwdElucHV0VHlwZV9hdXRvQ29sbGFwc2U6IE5iQm9vbGVhbklucHV0O1xuXG4gIHByb3RlY3RlZCBkZXN0cm95JCA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XG5cbiAgY29uc3RydWN0b3IoQEluamVjdChOQl9XSU5ET1cpIHByb3RlY3RlZCB3aW5kb3csXG4gICAgICAgICAgICAgIEBJbmplY3QoUExBVEZPUk1fSUQpIHByb3RlY3RlZCBwbGF0Zm9ybUlkLFxuICAgICAgICAgICAgICBwcm90ZWN0ZWQgbWVudUludGVybmFsU2VydmljZTogTmJNZW51SW50ZXJuYWxTZXJ2aWNlLFxuICAgICAgICAgICAgICBwcm90ZWN0ZWQgcm91dGVyOiBSb3V0ZXIpIHtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMubWVudUludGVybmFsU2VydmljZS5wcmVwYXJlSXRlbXModGhpcy5pdGVtcyk7XG5cbiAgICB0aGlzLm1lbnVJbnRlcm5hbFNlcnZpY2VcbiAgICAgIC5vbkFkZEl0ZW0oKVxuICAgICAgLnBpcGUoXG4gICAgICAgIGZpbHRlcigoZGF0YTogeyB0YWc6IHN0cmluZzsgaXRlbXM6IE5iTWVudUl0ZW1bXSB9KSA9PiB0aGlzLmNvbXBhcmVUYWcoZGF0YS50YWcpKSxcbiAgICAgICAgdGFrZVVudGlsKHRoaXMuZGVzdHJveSQpLFxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZShkYXRhID0+IHRoaXMub25BZGRJdGVtKGRhdGEpKTtcblxuICAgIHRoaXMubWVudUludGVybmFsU2VydmljZVxuICAgICAgLm9uTmF2aWdhdGVIb21lKClcbiAgICAgIC5waXBlKFxuICAgICAgICBmaWx0ZXIoKGRhdGE6IHsgdGFnOiBzdHJpbmcgfSkgPT4gdGhpcy5jb21wYXJlVGFnKGRhdGEudGFnKSksXG4gICAgICAgIHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5uYXZpZ2F0ZUhvbWUoKSk7XG5cbiAgICB0aGlzLm1lbnVJbnRlcm5hbFNlcnZpY2VcbiAgICAgIC5vbkdldFNlbGVjdGVkSXRlbSgpXG4gICAgICAucGlwZShcbiAgICAgICAgZmlsdGVyKChkYXRhOiB7IHRhZzogc3RyaW5nOyBsaXN0ZW5lcjogQmVoYXZpb3JTdWJqZWN0PE5iTWVudUJhZz4gfSkgPT4gdGhpcy5jb21wYXJlVGFnKGRhdGEudGFnKSksXG4gICAgICAgIHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKGRhdGE6IHsgdGFnOiBzdHJpbmc7IGxpc3RlbmVyOiBCZWhhdmlvclN1YmplY3Q8TmJNZW51QmFnPiB9KSA9PiB7XG4gICAgICAgIGRhdGEubGlzdGVuZXIubmV4dCh7IHRhZzogdGhpcy50YWcsIGl0ZW06IHRoaXMuZ2V0U2VsZWN0ZWRJdGVtKHRoaXMuaXRlbXMpIH0pO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLm1lbnVJbnRlcm5hbFNlcnZpY2VcbiAgICAgIC5vbkNvbGxhcHNlQWxsKClcbiAgICAgIC5waXBlKFxuICAgICAgICBmaWx0ZXIoKGRhdGE6IHsgdGFnOiBzdHJpbmcgfSkgPT4gdGhpcy5jb21wYXJlVGFnKGRhdGEudGFnKSksXG4gICAgICAgIHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5jb2xsYXBzZUFsbCgpKTtcblxuICAgIHRoaXMucm91dGVyLmV2ZW50c1xuICAgICAgLnBpcGUoXG4gICAgICAgIGZpbHRlcihldmVudCA9PiBldmVudCBpbnN0YW5jZW9mIE5hdmlnYXRpb25FbmQpLFxuICAgICAgICB0YWtlVW50aWwodGhpcy5kZXN0cm95JCksXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgdGhpcy5tZW51SW50ZXJuYWxTZXJ2aWNlLnNlbGVjdEZyb21VcmwodGhpcy5pdGVtcywgdGhpcy50YWcsIHRoaXMuYXV0b0NvbGxhcHNlKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5tZW51SW50ZXJuYWxTZXJ2aWNlLnNlbGVjdEZyb21VcmwodGhpcy5pdGVtcywgdGhpcy50YWcsIHRoaXMuYXV0b0NvbGxhcHNlKSk7XG4gIH1cblxuICBvbkFkZEl0ZW0oZGF0YTogeyB0YWc6IHN0cmluZzsgaXRlbXM6IE5iTWVudUl0ZW1bXSB9KSB7XG4gICAgdGhpcy5pdGVtcy5wdXNoKC4uLmRhdGEuaXRlbXMpO1xuXG4gICAgdGhpcy5tZW51SW50ZXJuYWxTZXJ2aWNlLnByZXBhcmVJdGVtcyh0aGlzLml0ZW1zKTtcbiAgICB0aGlzLm1lbnVJbnRlcm5hbFNlcnZpY2Uuc2VsZWN0RnJvbVVybCh0aGlzLml0ZW1zLCB0aGlzLnRhZywgdGhpcy5hdXRvQ29sbGFwc2UpO1xuICB9XG5cbiAgb25Ib3Zlckl0ZW0oaXRlbTogTmJNZW51SXRlbSkge1xuICAgIHRoaXMubWVudUludGVybmFsU2VydmljZS5pdGVtSG92ZXIoaXRlbSwgdGhpcy50YWcpO1xuICB9XG5cbiAgb25Ub2dnbGVTdWJNZW51KGl0ZW06IE5iTWVudUl0ZW0pIHtcbiAgICBpZiAodGhpcy5hdXRvQ29sbGFwc2UpIHtcbiAgICAgIHRoaXMubWVudUludGVybmFsU2VydmljZS5jb2xsYXBzZUFsbCh0aGlzLml0ZW1zLCB0aGlzLnRhZywgaXRlbSk7XG4gICAgfVxuICAgIGl0ZW0uZXhwYW5kZWQgPSAhaXRlbS5leHBhbmRlZDtcbiAgICB0aGlzLm1lbnVJbnRlcm5hbFNlcnZpY2Uuc3VibWVudVRvZ2dsZShpdGVtLCB0aGlzLnRhZyk7XG4gIH1cblxuICAvLyBUT0RPOiBpcyBub3QgZmlyZWQgb24gcGFnZSByZWxvYWRcbiAgb25TZWxlY3RJdGVtKGl0ZW06IE5iTWVudUl0ZW0pIHtcbiAgICB0aGlzLm1lbnVJbnRlcm5hbFNlcnZpY2Uuc2VsZWN0SXRlbShpdGVtLCB0aGlzLml0ZW1zLCB0aGlzLmF1dG9Db2xsYXBzZSwgdGhpcy50YWcpO1xuICB9XG5cbiAgb25JdGVtQ2xpY2soaXRlbTogTmJNZW51SXRlbSkge1xuICAgIHRoaXMubWVudUludGVybmFsU2VydmljZS5pdGVtQ2xpY2soaXRlbSwgdGhpcy50YWcpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5kZXN0cm95JC5uZXh0KCk7XG4gICAgdGhpcy5kZXN0cm95JC5jb21wbGV0ZSgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG5hdmlnYXRlSG9tZSgpIHtcbiAgICBjb25zdCBob21lSXRlbSA9IHRoaXMuZ2V0SG9tZUl0ZW0odGhpcy5pdGVtcyk7XG5cbiAgICBpZiAoaG9tZUl0ZW0pIHtcbiAgICAgIGlmIChob21lSXRlbS5saW5rKSB7XG4gICAgICAgIGNvbnN0IGV4dHJhczogTmF2aWdhdGlvbkV4dHJhcyA9IHtcbiAgICAgICAgICBxdWVyeVBhcmFtczogaG9tZUl0ZW0ucXVlcnlQYXJhbXMsXG4gICAgICAgICAgcXVlcnlQYXJhbXNIYW5kbGluZzogaG9tZUl0ZW0ucXVlcnlQYXJhbXNIYW5kbGluZyxcbiAgICAgICAgICBmcmFnbWVudDogaG9tZUl0ZW0uZnJhZ21lbnQsXG4gICAgICAgICAgcHJlc2VydmVGcmFnbWVudDogaG9tZUl0ZW0ucHJlc2VydmVGcmFnbWVudCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW2hvbWVJdGVtLmxpbmtdLCBleHRyYXMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaG9tZUl0ZW0udXJsICYmIGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgICAgdGhpcy53aW5kb3cubG9jYXRpb24uaHJlZiA9IGhvbWVJdGVtLnVybDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgY29sbGFwc2VBbGwoKSB7XG4gICAgdGhpcy5tZW51SW50ZXJuYWxTZXJ2aWNlLmNvbGxhcHNlQWxsKHRoaXMuaXRlbXMsIHRoaXMudGFnKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRIb21lSXRlbShpdGVtczogTmJNZW51SXRlbVtdKTogTmJNZW51SXRlbSB7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICBpZiAoaXRlbS5ob21lKSB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBob21lSXRlbSA9IGl0ZW0uY2hpbGRyZW4gJiYgdGhpcy5nZXRIb21lSXRlbShpdGVtLmNoaWxkcmVuKTtcbiAgICAgIGlmIChob21lSXRlbSkge1xuICAgICAgICByZXR1cm4gaG9tZUl0ZW07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHByb3RlY3RlZCBjb21wYXJlVGFnKHRhZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuICF0YWcgfHwgdGFnID09PSB0aGlzLnRhZztcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRTZWxlY3RlZEl0ZW0oaXRlbXM6IE5iTWVudUl0ZW1bXSk6IE5iTWVudUl0ZW0ge1xuICAgIGxldCBzZWxlY3RlZCA9IG51bGw7XG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbTogTmJNZW51SXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWQpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBpdGVtO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWQgJiYgaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2VsZWN0ZWQgPSB0aGlzLmdldFNlbGVjdGVkSXRlbShpdGVtLmNoaWxkcmVuKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gIH1cbn1cbiIsIjxzcGFuICpuZ0lmPVwibWVudUl0ZW0uZ3JvdXBcIj5cbiAgPG5iLWljb24gY2xhc3M9XCJtZW51LWljb25cIiBbY29uZmlnXT1cIm1lbnVJdGVtLmljb25cIiAqbmdJZj1cIm1lbnVJdGVtLmljb25cIj48L25iLWljb24+XG4gIHt7IG1lbnVJdGVtLnRpdGxlIH19XG48L3NwYW4+XG48YVxuICAqbmdJZj1cIm1lbnVJdGVtLmxpbmsgJiYgIW1lbnVJdGVtLnVybCAmJiAhbWVudUl0ZW0uY2hpbGRyZW4gJiYgIW1lbnVJdGVtLmdyb3VwXCJcbiAgW3JvdXRlckxpbmtdPVwibWVudUl0ZW0ubGlua1wiXG4gIFtxdWVyeVBhcmFtc109XCJtZW51SXRlbS5xdWVyeVBhcmFtc1wiXG4gIFtmcmFnbWVudF09XCJtZW51SXRlbS5mcmFnbWVudFwiXG4gIFtxdWVyeVBhcmFtc0hhbmRsaW5nXT1cIm1lbnVJdGVtLnF1ZXJ5UGFyYW1zSGFuZGxpbmdcIlxuICBbcHJlc2VydmVGcmFnbWVudF09XCJtZW51SXRlbS5wcmVzZXJ2ZUZyYWdtZW50XCJcbiAgW3NraXBMb2NhdGlvbkNoYW5nZV09XCJtZW51SXRlbS5za2lwTG9jYXRpb25DaGFuZ2VcIlxuICBbYXR0ci50YXJnZXRdPVwibWVudUl0ZW0udGFyZ2V0XCJcbiAgW2F0dHIudGl0bGVdPVwibWVudUl0ZW0udGl0bGVcIlxuICBbYXR0ci5yb2xlXT1cIm1lbnVJdGVtLmFyaWFSb2xlXCJcbiAgW2NsYXNzLmFjdGl2ZV09XCJtZW51SXRlbS5zZWxlY3RlZFwiXG4gIChtb3VzZWVudGVyKT1cIm9uSG92ZXJJdGVtKG1lbnVJdGVtKVwiXG4gIChjbGljayk9XCJvbkl0ZW1DbGljayhtZW51SXRlbSlcIlxuPlxuICA8bmItaWNvbiBjbGFzcz1cIm1lbnUtaWNvblwiIFtjb25maWddPVwibWVudUl0ZW0uaWNvblwiICpuZ0lmPVwibWVudUl0ZW0uaWNvblwiPjwvbmItaWNvbj5cbiAgPHNwYW4gY2xhc3M9XCJtZW51LXRpdGxlXCI+e3sgbWVudUl0ZW0udGl0bGUgfX08L3NwYW4+XG4gIDxuZy1jb250YWluZXIgKm5nSWY9XCJiYWRnZVwiIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImJhZGdlVGVtcGxhdGVcIj48L25nLWNvbnRhaW5lcj5cbjwvYT5cbjxhXG4gICpuZ0lmPVwibWVudUl0ZW0udXJsICYmICFtZW51SXRlbS5jaGlsZHJlbiAmJiAhbWVudUl0ZW0ubGluayAmJiAhbWVudUl0ZW0uZ3JvdXBcIlxuICBbYXR0ci5ocmVmXT1cIm1lbnVJdGVtLnVybFwiXG4gIFthdHRyLnRhcmdldF09XCJtZW51SXRlbS50YXJnZXRcIlxuICBbYXR0ci50aXRsZV09XCJtZW51SXRlbS50aXRsZVwiXG4gIFthdHRyLnJvbGVdPVwibWVudUl0ZW0uYXJpYVJvbGVcIlxuICBbY2xhc3MuYWN0aXZlXT1cIm1lbnVJdGVtLnNlbGVjdGVkXCJcbiAgKG1vdXNlZW50ZXIpPVwib25Ib3Zlckl0ZW0obWVudUl0ZW0pXCJcbiAgKGNsaWNrKT1cIm9uU2VsZWN0SXRlbShtZW51SXRlbSlcIlxuPlxuICA8bmItaWNvbiBjbGFzcz1cIm1lbnUtaWNvblwiIFtjb25maWddPVwibWVudUl0ZW0uaWNvblwiICpuZ0lmPVwibWVudUl0ZW0uaWNvblwiPjwvbmItaWNvbj5cbiAgPHNwYW4gY2xhc3M9XCJtZW51LXRpdGxlXCI+e3sgbWVudUl0ZW0udGl0bGUgfX08L3NwYW4+XG4gIDxuZy1jb250YWluZXIgKm5nSWY9XCJiYWRnZVwiIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImJhZGdlVGVtcGxhdGVcIj48L25nLWNvbnRhaW5lcj5cbjwvYT5cbjxhXG4gICpuZ0lmPVwiIW1lbnVJdGVtLmNoaWxkcmVuICYmICFtZW51SXRlbS5saW5rICYmICFtZW51SXRlbS51cmwgJiYgIW1lbnVJdGVtLmdyb3VwXCJcbiAgW2F0dHIudGFyZ2V0XT1cIm1lbnVJdGVtLnRhcmdldFwiXG4gIFthdHRyLnRpdGxlXT1cIm1lbnVJdGVtLnRpdGxlXCJcbiAgW2F0dHIucm9sZV09XCJtZW51SXRlbS5hcmlhUm9sZVwiXG4gIFtjbGFzcy5hY3RpdmVdPVwibWVudUl0ZW0uc2VsZWN0ZWRcIlxuICAobW91c2VlbnRlcik9XCJvbkhvdmVySXRlbShtZW51SXRlbSlcIlxuICAoY2xpY2spPVwiJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IG9uSXRlbUNsaWNrKG1lbnVJdGVtKVwiXG4+XG4gIDxuYi1pY29uIGNsYXNzPVwibWVudS1pY29uXCIgW2NvbmZpZ109XCJtZW51SXRlbS5pY29uXCIgKm5nSWY9XCJtZW51SXRlbS5pY29uXCI+PC9uYi1pY29uPlxuICA8c3BhbiBjbGFzcz1cIm1lbnUtdGl0bGVcIj57eyBtZW51SXRlbS50aXRsZSB9fTwvc3Bhbj5cbiAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImJhZGdlXCIgW25nVGVtcGxhdGVPdXRsZXRdPVwiYmFkZ2VUZW1wbGF0ZVwiPjwvbmctY29udGFpbmVyPlxuPC9hPlxuPGFcbiAgKm5nSWY9XCJtZW51SXRlbS5jaGlsZHJlblwiXG4gIChjbGljayk9XCIkZXZlbnQucHJldmVudERlZmF1bHQoKTsgb25Ub2dnbGVTdWJNZW51KG1lbnVJdGVtKVwiXG4gIFthdHRyLnRhcmdldF09XCJtZW51SXRlbS50YXJnZXRcIlxuICBbYXR0ci50aXRsZV09XCJtZW51SXRlbS50aXRsZVwiXG4gIFthdHRyLmFyaWEtZXhwYW5kZWRdPVwibWVudUl0ZW0uZXhwYW5kZWQgPz8gZmFsc2VcIlxuICBbYXR0ci5yb2xlXT1cIm1lbnVJdGVtLmFyaWFSb2xlXCJcbiAgW2NsYXNzLmFjdGl2ZV09XCJtZW51SXRlbS5zZWxlY3RlZFwiXG4gIChtb3VzZWVudGVyKT1cIm9uSG92ZXJJdGVtKG1lbnVJdGVtKVwiXG4gIGhyZWY9XCIjXCJcbj5cbiAgPG5iLWljb24gY2xhc3M9XCJtZW51LWljb25cIiBbY29uZmlnXT1cIm1lbnVJdGVtLmljb25cIiAqbmdJZj1cIm1lbnVJdGVtLmljb25cIj48L25iLWljb24+XG4gIDxzcGFuIGNsYXNzPVwibWVudS10aXRsZVwiPnt7IG1lbnVJdGVtLnRpdGxlIH19PC9zcGFuPlxuICA8bmctY29udGFpbmVyICpuZ0lmPVwiYmFkZ2VcIiBbbmdUZW1wbGF0ZU91dGxldF09XCJiYWRnZVRlbXBsYXRlXCI+PC9uZy1jb250YWluZXI+XG4gIDxuYi1pY29uIGNsYXNzPVwiZXhwYW5kLXN0YXRlXCIgW2ljb25dPVwiZ2V0RXhwYW5kU3RhdGVJY29uKClcIiBwYWNrPVwibmVidWxhci1lc3NlbnRpYWxzXCI+PC9uYi1pY29uPlxuPC9hPlxuPHVsXG4gICpuZ0lmPVwibWVudUl0ZW0uY2hpbGRyZW5cIlxuICBbY2xhc3MuY29sbGFwc2VkXT1cIiEobWVudUl0ZW0uY2hpbGRyZW4gJiYgbWVudUl0ZW0uZXhwYW5kZWQpXCJcbiAgW2NsYXNzLmV4cGFuZGVkXT1cIm1lbnVJdGVtLmV4cGFuZGVkXCJcbiAgW0B0b2dnbGVdPVwidG9nZ2xlU3RhdGVcIlxuICBjbGFzcz1cIm1lbnUtaXRlbXNcIlxuPlxuICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBpdGVtIG9mIG1lbnVJdGVtLmNoaWxkcmVuXCI+XG4gICAgPGxpXG4gICAgICBuYk1lbnVJdGVtXG4gICAgICAqbmdJZj1cIiFpdGVtLmhpZGRlblwiXG4gICAgICBbbWVudUl0ZW1dPVwiaXRlbVwiXG4gICAgICBbYmFkZ2VdPVwiaXRlbS5iYWRnZVwiXG4gICAgICBbY2xhc3MubWVudS1ncm91cF09XCJpdGVtLmdyb3VwXCJcbiAgICAgIChob3Zlckl0ZW0pPVwib25Ib3Zlckl0ZW0oJGV2ZW50KVwiXG4gICAgICAodG9nZ2xlU3ViTWVudSk9XCJvblRvZ2dsZVN1Yk1lbnUoJGV2ZW50KVwiXG4gICAgICAoc2VsZWN0SXRlbSk9XCJvblNlbGVjdEl0ZW0oJGV2ZW50KVwiXG4gICAgICAoaXRlbUNsaWNrKT1cIm9uSXRlbUNsaWNrKCRldmVudClcIlxuICAgICAgY2xhc3M9XCJtZW51LWl0ZW1cIlxuICAgID48L2xpPlxuICA8L25nLWNvbnRhaW5lcj5cbjwvdWw+XG5cbjxuZy10ZW1wbGF0ZSAjYmFkZ2VUZW1wbGF0ZT5cbiAgPG5iLWJhZGdlIFt0ZXh0XT1cImJhZGdlLnRleHRcIiBbZG90TW9kZV09XCJiYWRnZS5kb3RNb2RlXCIgW3N0YXR1c109XCJiYWRnZS5zdGF0dXNcIj4gPC9uYi1iYWRnZT5cbjwvbmctdGVtcGxhdGU+XG4iXX0=