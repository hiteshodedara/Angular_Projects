/**
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */
import { Component, HostBinding, Input } from '@angular/core';
import { convertToBoolProperty } from '../helpers';
import * as i0 from "@angular/core";
import * as i1 from "../../services/status.service";
/**
 * Badge is a simple labeling component.
 * It can be used to add additional information to any content or highlight unread items.
 *
 * Element is absolute positioned, so parent should be
 * [positioned element](https://developer.mozilla.org/en-US/docs/Web/CSS/position).
 * It means parent `position` should be set to anything except `static`, e.g. `relative`,
 * `absolute`, `fixed`, or `sticky`.
 *
 * ### Installation
 *
 * Import `NbBadgeModule` to your feature module.
 * ```ts
 * @NgModule({
 *   imports: [
 *     // ...
 *     NbBadgeModule,
 *   ],
 * })
 * export class PageModule { }
 * ```
 * ### Usage
 *
 * Badge with default position and status(color):
 *
 * ```html
 * <nb-badge text="badgeText"></nb-badge>
 * ```
 *
 * For example, badge can be placed into nb-card header:
 * @stacked-example(Showcase, badge/badge-showcase.component)
 *
 * Badge located on the bottom right with warning status:
 *
 * ```html
 * <nb-badge text="badgeText" status="warning" position="bottom right">
 * </nb-badge>
 * ```
 *
 * @styles
 *
 * badge-border-radius:
 * badge-text-font-family:
 * badge-text-font-size:
 * badge-text-font-weight:
 * badge-text-line-height:
 * badge-padding:
 * badge-basic-background-color:
 * badge-basic-text-color:
 * badge-primary-background-color:
 * badge-primary-text-color:
 * badge-success-background-color:
 * badge-success-text-color:
 * badge-info-background-color:
 * badge-info-text-color:
 * badge-warning-background-color:
 * badge-warning-text-color:
 * badge-danger-background-color:
 * badge-danger-text-color:
 * badge-control-background-color:
 * badge-control-text-color:
 */
export class NbBadgeComponent {
    /**
     * Badge position
     *
     * Can be set to any class or to one of predefined positions:
     * 'top left', 'top right', 'bottom left', 'bottom right',
     * 'top start', 'top end', 'bottom start', 'bottom end'
     * @type string
     */
    get position() {
        return this._position;
    }
    set position(value) {
        this._position = value || this._defaultPosition;
    }
    /**
     * Shows badge as a dot. No text is shown.
     * @type boolean
     */
    get dotMode() {
        return this._dotMode;
    }
    set dotMode(value) {
        this._dotMode = convertToBoolProperty(value);
    }
    get additionalClasses() {
        if (this.statusService.isCustomStatus(this.status)) {
            return [this.statusService.getStatusClass(this.status)];
        }
        return [];
    }
    get primary() {
        return this.status === 'primary';
    }
    get success() {
        return this.status === 'success';
    }
    get info() {
        return this.status === 'info';
    }
    get warning() {
        return this.status === 'warning';
    }
    get danger() {
        return this.status === 'danger';
    }
    get basic() {
        return this.status === 'basic';
    }
    get control() {
        return this.status === 'control';
    }
    get top() {
        return this.position.includes('top');
    }
    get right() {
        return this.position.includes('right');
    }
    get bottom() {
        return this.position.includes('bottom');
    }
    get left() {
        return this.position.includes('left');
    }
    get start() {
        return this.position.includes('start');
    }
    get end() {
        return this.position.includes('end');
    }
    get center() {
        return this.position.includes('center');
    }
    constructor(statusService) {
        this.statusService = statusService;
        /**
         * Text to display
         * @type string
         */
        this.text = '';
        this._defaultPosition = 'top right';
        this._position = this._defaultPosition;
        /**
         * Badge status (adds specific styles):
         * 'basic', 'primary', 'info', 'success', 'warning', 'danger', 'control'
         */
        this.status = 'basic';
    }
}
NbBadgeComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: NbBadgeComponent, deps: [{ token: i1.NbStatusService }], target: i0.ɵɵFactoryTarget.Component });
NbBadgeComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.4", type: NbBadgeComponent, selector: "nb-badge", inputs: { text: "text", position: "position", dotMode: "dotMode", status: "status" }, host: { properties: { "class.dot-mode": "this.dotMode", "class": "this.additionalClasses", "class.status-primary": "this.primary", "class.status-success": "this.success", "class.status-info": "this.info", "class.status-warning": "this.warning", "class.status-danger": "this.danger", "class.status-basic": "this.basic", "class.status-control": "this.control", "class.position-top": "this.top", "class.position-right": "this.right", "class.position-bottom": "this.bottom", "class.position-left": "this.left", "class.position-start": "this.start", "class.position-end": "this.end", "class.position-center": "this.center" } }, ngImport: i0, template: `{{dotMode ? '' : text}}`, isInline: true, styles: ["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */:host{position:absolute;text-align:center;white-space:nowrap;vertical-align:baseline}:host(.position-top){top:0}:host(.position-right){right:0}:host(.position-bottom){bottom:0}:host(.position-left){left:0}:host(.position-center){top:50%;transform:translateY(-50%)}[dir=ltr] :host(.position-start){left:0}[dir=rtl] :host(.position-start){right:0}[dir=ltr] :host(.position-end){right:0}[dir=rtl] :host(.position-end){left:0}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.4", ngImport: i0, type: NbBadgeComponent, decorators: [{
            type: Component,
            args: [{ selector: 'nb-badge', template: `{{dotMode ? '' : text}}`, styles: ["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */:host{position:absolute;text-align:center;white-space:nowrap;vertical-align:baseline}:host(.position-top){top:0}:host(.position-right){right:0}:host(.position-bottom){bottom:0}:host(.position-left){left:0}:host(.position-center){top:50%;transform:translateY(-50%)}[dir=ltr] :host(.position-start){left:0}[dir=rtl] :host(.position-start){right:0}[dir=ltr] :host(.position-end){right:0}[dir=rtl] :host(.position-end){left:0}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.NbStatusService }]; }, propDecorators: { text: [{
                type: Input
            }], position: [{
                type: Input
            }], dotMode: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['class.dot-mode']
            }], status: [{
                type: Input
            }], additionalClasses: [{
                type: HostBinding,
                args: ['class']
            }], primary: [{
                type: HostBinding,
                args: ['class.status-primary']
            }], success: [{
                type: HostBinding,
                args: ['class.status-success']
            }], info: [{
                type: HostBinding,
                args: ['class.status-info']
            }], warning: [{
                type: HostBinding,
                args: ['class.status-warning']
            }], danger: [{
                type: HostBinding,
                args: ['class.status-danger']
            }], basic: [{
                type: HostBinding,
                args: ['class.status-basic']
            }], control: [{
                type: HostBinding,
                args: ['class.status-control']
            }], top: [{
                type: HostBinding,
                args: ['class.position-top']
            }], right: [{
                type: HostBinding,
                args: ['class.position-right']
            }], bottom: [{
                type: HostBinding,
                args: ['class.position-bottom']
            }], left: [{
                type: HostBinding,
                args: ['class.position-left']
            }], start: [{
                type: HostBinding,
                args: ['class.position-start']
            }], end: [{
                type: HostBinding,
                args: ['class.position-end']
            }], center: [{
                type: HostBinding,
                args: ['class.position-center']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFkZ2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2ZyYW1ld29yay90aGVtZS9jb21wb25lbnRzL2JhZGdlL2JhZGdlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHO0FBRUgsT0FBTyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBSTlELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLFlBQVksQ0FBQzs7O0FBYW5EOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBNkRHO0FBTUgsTUFBTSxPQUFPLGdCQUFnQjtJQVEzQjs7Ozs7OztPQU9HO0lBQ0gsSUFDSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3hCLENBQUM7SUFDRCxJQUFJLFFBQVEsQ0FBQyxLQUFzQjtRQUNqQyxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUM7SUFDbEQsQ0FBQztJQUlEOzs7T0FHRztJQUNILElBRUksT0FBTztRQUNULE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN2QixDQUFDO0lBQ0QsSUFBSSxPQUFPLENBQUMsS0FBYztRQUN4QixJQUFJLENBQUMsUUFBUSxHQUFHLHFCQUFxQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFTRCxJQUNJLGlCQUFpQjtRQUNuQixJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNsRCxPQUFPLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7U0FDekQ7UUFDRCxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFFRCxJQUNJLE9BQU87UUFDVCxPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssU0FBUyxDQUFDO0lBQ25DLENBQUM7SUFFRCxJQUNJLE9BQU87UUFDVCxPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssU0FBUyxDQUFDO0lBQ25DLENBQUM7SUFFRCxJQUNJLElBQUk7UUFDTixPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDO0lBQ2hDLENBQUM7SUFFRCxJQUNJLE9BQU87UUFDVCxPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssU0FBUyxDQUFDO0lBQ25DLENBQUM7SUFFRCxJQUNJLE1BQU07UUFDUixPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssUUFBUSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxJQUNJLEtBQUs7UUFDUCxPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssT0FBTyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxJQUNJLE9BQU87UUFDVCxPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssU0FBUyxDQUFDO0lBQ25DLENBQUM7SUFFRCxJQUNJLEdBQUc7UUFDTCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxJQUNJLEtBQUs7UUFDUCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFRCxJQUNJLE1BQU07UUFDUixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxJQUNJLElBQUk7UUFDTixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFRCxJQUNJLEtBQUs7UUFDUCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFRCxJQUNJLEdBQUc7UUFDTCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxJQUNJLE1BQU07UUFDUixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxZQUFzQixhQUE4QjtRQUE5QixrQkFBYSxHQUFiLGFBQWEsQ0FBaUI7UUExSHBEOzs7V0FHRztRQUNNLFNBQUksR0FBVyxFQUFFLENBQUM7UUFpQmpCLHFCQUFnQixHQUFvQixXQUFXLENBQUM7UUFDaEQsY0FBUyxHQUFvQixJQUFJLENBQUMsZ0JBQWdCLENBQUM7UUFnQjdEOzs7V0FHRztRQUNNLFdBQU0sR0FBOEIsT0FBTyxDQUFDO0lBaUZyRCxDQUFDOzs2R0E3SFUsZ0JBQWdCO2lHQUFoQixnQkFBZ0IscXZCQUZqQix5QkFBeUI7MkZBRXhCLGdCQUFnQjtrQkFMNUIsU0FBUzsrQkFDRSxVQUFVLFlBRVYseUJBQXlCO3NHQVExQixJQUFJO3NCQUFaLEtBQUs7Z0JBV0YsUUFBUTtzQkFEWCxLQUFLO2dCQWdCRixPQUFPO3NCQUZWLEtBQUs7O3NCQUNMLFdBQVc7dUJBQUMsZ0JBQWdCO2dCQWFwQixNQUFNO3NCQUFkLEtBQUs7Z0JBR0YsaUJBQWlCO3NCQURwQixXQUFXO3VCQUFDLE9BQU87Z0JBU2hCLE9BQU87c0JBRFYsV0FBVzt1QkFBQyxzQkFBc0I7Z0JBTS9CLE9BQU87c0JBRFYsV0FBVzt1QkFBQyxzQkFBc0I7Z0JBTS9CLElBQUk7c0JBRFAsV0FBVzt1QkFBQyxtQkFBbUI7Z0JBTTVCLE9BQU87c0JBRFYsV0FBVzt1QkFBQyxzQkFBc0I7Z0JBTS9CLE1BQU07c0JBRFQsV0FBVzt1QkFBQyxxQkFBcUI7Z0JBTTlCLEtBQUs7c0JBRFIsV0FBVzt1QkFBQyxvQkFBb0I7Z0JBTTdCLE9BQU87c0JBRFYsV0FBVzt1QkFBQyxzQkFBc0I7Z0JBTS9CLEdBQUc7c0JBRE4sV0FBVzt1QkFBQyxvQkFBb0I7Z0JBTTdCLEtBQUs7c0JBRFIsV0FBVzt1QkFBQyxzQkFBc0I7Z0JBTS9CLE1BQU07c0JBRFQsV0FBVzt1QkFBQyx1QkFBdUI7Z0JBTWhDLElBQUk7c0JBRFAsV0FBVzt1QkFBQyxxQkFBcUI7Z0JBTTlCLEtBQUs7c0JBRFIsV0FBVzt1QkFBQyxzQkFBc0I7Z0JBTS9CLEdBQUc7c0JBRE4sV0FBVzt1QkFBQyxvQkFBb0I7Z0JBTTdCLE1BQU07c0JBRFQsV0FBVzt1QkFBQyx1QkFBdUIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgQWt2ZW8uIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgSG9zdEJpbmRpbmcsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IE5iU3RhdHVzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3N0YXR1cy5zZXJ2aWNlJztcbmltcG9ydCB7IE5iQ29tcG9uZW50T3JDdXN0b21TdGF0dXMgfSBmcm9tICcuLi9jb21wb25lbnQtc3RhdHVzJztcbmltcG9ydCB7IGNvbnZlcnRUb0Jvb2xQcm9wZXJ0eSB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5leHBvcnQgdHlwZSBOYkJhZGdlUGh5c2ljYWxQb3NpdGlvbiA9ICd0b3AgbGVmdCcgfCAndG9wIHJpZ2h0JyB8ICdib3R0b20gbGVmdCcgfCAnYm90dG9tIHJpZ2h0JyB8ICdjZW50ZXIgcmlnaHQnIHwgJ2NlbnRlciBsZWZ0JztcbmV4cG9ydCB0eXBlIE5iQmFkZ2VMb2dpY2FsUG9zaXRpb24gPSAndG9wIHN0YXJ0JyB8ICd0b3AgZW5kJyB8ICdib3R0b20gc3RhcnQnIHwgJ2JvdHRvbSBlbmQnIHwgJ2NlbnRlciBzdGFydCd8ICdjZW50ZXIgZW5kJztcbmV4cG9ydCB0eXBlIE5iQmFkZ2VQb3NpdGlvbiA9IE5iQmFkZ2VQaHlzaWNhbFBvc2l0aW9uIHwgTmJCYWRnZUxvZ2ljYWxQb3NpdGlvbjtcblxuZXhwb3J0IGludGVyZmFjZSBOYkJhZGdlIHtcbiAgdGV4dD86IHN0cmluZztcbiAgcG9zaXRpb24/OiBOYkJhZGdlUG9zaXRpb247XG4gIHN0YXR1cz86IE5iQ29tcG9uZW50T3JDdXN0b21TdGF0dXM7XG4gIGRvdE1vZGU/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEJhZGdlIGlzIGEgc2ltcGxlIGxhYmVsaW5nIGNvbXBvbmVudC5cbiAqIEl0IGNhbiBiZSB1c2VkIHRvIGFkZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHRvIGFueSBjb250ZW50IG9yIGhpZ2hsaWdodCB1bnJlYWQgaXRlbXMuXG4gKlxuICogRWxlbWVudCBpcyBhYnNvbHV0ZSBwb3NpdGlvbmVkLCBzbyBwYXJlbnQgc2hvdWxkIGJlXG4gKiBbcG9zaXRpb25lZCBlbGVtZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvcG9zaXRpb24pLlxuICogSXQgbWVhbnMgcGFyZW50IGBwb3NpdGlvbmAgc2hvdWxkIGJlIHNldCB0byBhbnl0aGluZyBleGNlcHQgYHN0YXRpY2AsIGUuZy4gYHJlbGF0aXZlYCxcbiAqIGBhYnNvbHV0ZWAsIGBmaXhlZGAsIG9yIGBzdGlja3lgLlxuICpcbiAqICMjIyBJbnN0YWxsYXRpb25cbiAqXG4gKiBJbXBvcnQgYE5iQmFkZ2VNb2R1bGVgIHRvIHlvdXIgZmVhdHVyZSBtb2R1bGUuXG4gKiBgYGB0c1xuICogQE5nTW9kdWxlKHtcbiAqICAgaW1wb3J0czogW1xuICogICAgIC8vIC4uLlxuICogICAgIE5iQmFkZ2VNb2R1bGUsXG4gKiAgIF0sXG4gKiB9KVxuICogZXhwb3J0IGNsYXNzIFBhZ2VNb2R1bGUgeyB9XG4gKiBgYGBcbiAqICMjIyBVc2FnZVxuICpcbiAqIEJhZGdlIHdpdGggZGVmYXVsdCBwb3NpdGlvbiBhbmQgc3RhdHVzKGNvbG9yKTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8bmItYmFkZ2UgdGV4dD1cImJhZGdlVGV4dFwiPjwvbmItYmFkZ2U+XG4gKiBgYGBcbiAqXG4gKiBGb3IgZXhhbXBsZSwgYmFkZ2UgY2FuIGJlIHBsYWNlZCBpbnRvIG5iLWNhcmQgaGVhZGVyOlxuICogQHN0YWNrZWQtZXhhbXBsZShTaG93Y2FzZSwgYmFkZ2UvYmFkZ2Utc2hvd2Nhc2UuY29tcG9uZW50KVxuICpcbiAqIEJhZGdlIGxvY2F0ZWQgb24gdGhlIGJvdHRvbSByaWdodCB3aXRoIHdhcm5pbmcgc3RhdHVzOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxuYi1iYWRnZSB0ZXh0PVwiYmFkZ2VUZXh0XCIgc3RhdHVzPVwid2FybmluZ1wiIHBvc2l0aW9uPVwiYm90dG9tIHJpZ2h0XCI+XG4gKiA8L25iLWJhZGdlPlxuICogYGBgXG4gKlxuICogQHN0eWxlc1xuICpcbiAqIGJhZGdlLWJvcmRlci1yYWRpdXM6XG4gKiBiYWRnZS10ZXh0LWZvbnQtZmFtaWx5OlxuICogYmFkZ2UtdGV4dC1mb250LXNpemU6XG4gKiBiYWRnZS10ZXh0LWZvbnQtd2VpZ2h0OlxuICogYmFkZ2UtdGV4dC1saW5lLWhlaWdodDpcbiAqIGJhZGdlLXBhZGRpbmc6XG4gKiBiYWRnZS1iYXNpYy1iYWNrZ3JvdW5kLWNvbG9yOlxuICogYmFkZ2UtYmFzaWMtdGV4dC1jb2xvcjpcbiAqIGJhZGdlLXByaW1hcnktYmFja2dyb3VuZC1jb2xvcjpcbiAqIGJhZGdlLXByaW1hcnktdGV4dC1jb2xvcjpcbiAqIGJhZGdlLXN1Y2Nlc3MtYmFja2dyb3VuZC1jb2xvcjpcbiAqIGJhZGdlLXN1Y2Nlc3MtdGV4dC1jb2xvcjpcbiAqIGJhZGdlLWluZm8tYmFja2dyb3VuZC1jb2xvcjpcbiAqIGJhZGdlLWluZm8tdGV4dC1jb2xvcjpcbiAqIGJhZGdlLXdhcm5pbmctYmFja2dyb3VuZC1jb2xvcjpcbiAqIGJhZGdlLXdhcm5pbmctdGV4dC1jb2xvcjpcbiAqIGJhZGdlLWRhbmdlci1iYWNrZ3JvdW5kLWNvbG9yOlxuICogYmFkZ2UtZGFuZ2VyLXRleHQtY29sb3I6XG4gKiBiYWRnZS1jb250cm9sLWJhY2tncm91bmQtY29sb3I6XG4gKiBiYWRnZS1jb250cm9sLXRleHQtY29sb3I6XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ25iLWJhZGdlJyxcbiAgc3R5bGVVcmxzOiBbJy4vYmFkZ2UuY29tcG9uZW50LnNjc3MnXSxcbiAgdGVtcGxhdGU6IGB7e2RvdE1vZGUgPyAnJyA6IHRleHR9fWAsXG59KVxuZXhwb3J0IGNsYXNzIE5iQmFkZ2VDb21wb25lbnQgaW1wbGVtZW50cyBOYkJhZGdlIHtcblxuICAvKipcbiAgICogVGV4dCB0byBkaXNwbGF5XG4gICAqIEB0eXBlIHN0cmluZ1xuICAgKi9cbiAgQElucHV0KCkgdGV4dDogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIEJhZGdlIHBvc2l0aW9uXG4gICAqXG4gICAqIENhbiBiZSBzZXQgdG8gYW55IGNsYXNzIG9yIHRvIG9uZSBvZiBwcmVkZWZpbmVkIHBvc2l0aW9uczpcbiAgICogJ3RvcCBsZWZ0JywgJ3RvcCByaWdodCcsICdib3R0b20gbGVmdCcsICdib3R0b20gcmlnaHQnLFxuICAgKiAndG9wIHN0YXJ0JywgJ3RvcCBlbmQnLCAnYm90dG9tIHN0YXJ0JywgJ2JvdHRvbSBlbmQnXG4gICAqIEB0eXBlIHN0cmluZ1xuICAgKi9cbiAgQElucHV0KClcbiAgZ2V0IHBvc2l0aW9uKCk6IE5iQmFkZ2VQb3NpdGlvbiB7XG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xuICB9XG4gIHNldCBwb3NpdGlvbih2YWx1ZTogTmJCYWRnZVBvc2l0aW9uKSB7XG4gICAgdGhpcy5fcG9zaXRpb24gPSB2YWx1ZSB8fCB0aGlzLl9kZWZhdWx0UG9zaXRpb247XG4gIH1cbiAgcHJvdGVjdGVkIF9kZWZhdWx0UG9zaXRpb246IE5iQmFkZ2VQb3NpdGlvbiA9ICd0b3AgcmlnaHQnO1xuICBwcm90ZWN0ZWQgX3Bvc2l0aW9uOiBOYkJhZGdlUG9zaXRpb24gPSB0aGlzLl9kZWZhdWx0UG9zaXRpb247XG5cbiAgLyoqXG4gICAqIFNob3dzIGJhZGdlIGFzIGEgZG90LiBObyB0ZXh0IGlzIHNob3duLlxuICAgKiBAdHlwZSBib29sZWFuXG4gICAqL1xuICBASW5wdXQoKVxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmRvdC1tb2RlJylcbiAgZ2V0IGRvdE1vZGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2RvdE1vZGU7XG4gIH1cbiAgc2V0IGRvdE1vZGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9kb3RNb2RlID0gY29udmVydFRvQm9vbFByb3BlcnR5KHZhbHVlKTtcbiAgfVxuICBwcm90ZWN0ZWQgX2RvdE1vZGU6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEJhZGdlIHN0YXR1cyAoYWRkcyBzcGVjaWZpYyBzdHlsZXMpOlxuICAgKiAnYmFzaWMnLCAncHJpbWFyeScsICdpbmZvJywgJ3N1Y2Nlc3MnLCAnd2FybmluZycsICdkYW5nZXInLCAnY29udHJvbCdcbiAgICovXG4gIEBJbnB1dCgpIHN0YXR1czogTmJDb21wb25lbnRPckN1c3RvbVN0YXR1cyA9ICdiYXNpYyc7XG5cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcycpXG4gIGdldCBhZGRpdGlvbmFsQ2xhc3NlcygpOiBzdHJpbmdbXSB7XG4gICAgaWYgKHRoaXMuc3RhdHVzU2VydmljZS5pc0N1c3RvbVN0YXR1cyh0aGlzLnN0YXR1cykpIHtcbiAgICAgIHJldHVybiBbdGhpcy5zdGF0dXNTZXJ2aWNlLmdldFN0YXR1c0NsYXNzKHRoaXMuc3RhdHVzKV07XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIEBIb3N0QmluZGluZygnY2xhc3Muc3RhdHVzLXByaW1hcnknKVxuICBnZXQgcHJpbWFyeSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXMgPT09ICdwcmltYXJ5JztcbiAgfVxuXG4gIEBIb3N0QmluZGluZygnY2xhc3Muc3RhdHVzLXN1Y2Nlc3MnKVxuICBnZXQgc3VjY2VzcygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXMgPT09ICdzdWNjZXNzJztcbiAgfVxuXG4gIEBIb3N0QmluZGluZygnY2xhc3Muc3RhdHVzLWluZm8nKVxuICBnZXQgaW5mbygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXMgPT09ICdpbmZvJztcbiAgfVxuXG4gIEBIb3N0QmluZGluZygnY2xhc3Muc3RhdHVzLXdhcm5pbmcnKVxuICBnZXQgd2FybmluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXMgPT09ICd3YXJuaW5nJztcbiAgfVxuXG4gIEBIb3N0QmluZGluZygnY2xhc3Muc3RhdHVzLWRhbmdlcicpXG4gIGdldCBkYW5nZXIoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHVzID09PSAnZGFuZ2VyJztcbiAgfVxuXG4gIEBIb3N0QmluZGluZygnY2xhc3Muc3RhdHVzLWJhc2ljJylcbiAgZ2V0IGJhc2ljKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnN0YXR1cyA9PT0gJ2Jhc2ljJztcbiAgfVxuXG4gIEBIb3N0QmluZGluZygnY2xhc3Muc3RhdHVzLWNvbnRyb2wnKVxuICBnZXQgY29udHJvbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXMgPT09ICdjb250cm9sJztcbiAgfVxuXG4gIEBIb3N0QmluZGluZygnY2xhc3MucG9zaXRpb24tdG9wJylcbiAgZ2V0IHRvcCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi5pbmNsdWRlcygndG9wJyk7XG4gIH1cblxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLnBvc2l0aW9uLXJpZ2h0JylcbiAgZ2V0IHJpZ2h0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmluY2x1ZGVzKCdyaWdodCcpO1xuICB9XG5cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5wb3NpdGlvbi1ib3R0b20nKVxuICBnZXQgYm90dG9tKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmluY2x1ZGVzKCdib3R0b20nKTtcbiAgfVxuXG4gIEBIb3N0QmluZGluZygnY2xhc3MucG9zaXRpb24tbGVmdCcpXG4gIGdldCBsZWZ0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmluY2x1ZGVzKCdsZWZ0Jyk7XG4gIH1cblxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLnBvc2l0aW9uLXN0YXJ0JylcbiAgZ2V0IHN0YXJ0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmluY2x1ZGVzKCdzdGFydCcpO1xuICB9XG5cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5wb3NpdGlvbi1lbmQnKVxuICBnZXQgZW5kKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmluY2x1ZGVzKCdlbmQnKTtcbiAgfVxuXG4gIEBIb3N0QmluZGluZygnY2xhc3MucG9zaXRpb24tY2VudGVyJylcbiAgZ2V0IGNlbnRlcigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi5pbmNsdWRlcygnY2VudGVyJyk7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgc3RhdHVzU2VydmljZTogTmJTdGF0dXNTZXJ2aWNlKSB7XG4gIH1cbn1cbiJdfQ==